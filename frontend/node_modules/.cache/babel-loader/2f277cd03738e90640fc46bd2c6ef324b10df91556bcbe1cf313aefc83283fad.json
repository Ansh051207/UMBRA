{"ast":null,"code":"var _jsxFileName = \"/Users/anshagrawal/Desktop/umb/frontend/src/contexts/CryptoContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useState, useContext, useCallback } from 'react';\nimport CryptoJS from 'crypto-js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CryptoContext = /*#__PURE__*/createContext();\nexport const useCrypto = () => {\n  _s();\n  return useContext(CryptoContext);\n};\n_s(useCrypto, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const CryptoProvider = ({\n  children\n}) => {\n  _s2();\n  const [masterKey, setMasterKeyState] = useState(sessionStorage.getItem('umbra_master_key') || null);\n  const [privateKey, setPrivateKeyState] = useState(sessionStorage.getItem('umbra_private_key') || null);\n  const setMasterKey = key => {\n    if (key) {\n      sessionStorage.setItem('umbra_master_key', key);\n    } else {\n      sessionStorage.removeItem('umbra_master_key');\n    }\n    setMasterKeyState(key);\n  };\n  const setPrivateKey = key => {\n    if (key) {\n      sessionStorage.setItem('umbra_private_key', key);\n    } else {\n      sessionStorage.removeItem('umbra_private_key');\n    }\n    setPrivateKeyState(key);\n  };\n\n  // Generate a random key\n  const generateKey = useCallback(() => {\n    return CryptoJS.lib.WordArray.random(32).toString();\n  }, []);\n\n  // Derive encryption key from password\n  const deriveKeyFromPassword = useCallback((password, salt) => {\n    return CryptoJS.PBKDF2(password, salt, {\n      keySize: 256 / 32,\n      iterations: 100000\n    }).toString();\n  }, []);\n\n  // Encrypt data with AES\n  const encrypt = useCallback((data, key) => {\n    const iv = CryptoJS.lib.WordArray.random(16);\n    const encrypted = CryptoJS.AES.encrypt(data, key, {\n      iv\n    });\n    return {\n      ciphertext: encrypted.toString(),\n      iv: iv.toString(),\n      algorithm: 'AES-CBC'\n    };\n  }, []);\n\n  // Decrypt data with AES\n  const decrypt = useCallback((ciphertext, key, iv) => {\n    const decrypted = CryptoJS.AES.decrypt(ciphertext, key, {\n      iv: CryptoJS.enc.Hex.parse(iv)\n    });\n    return decrypted.toString(CryptoJS.enc.Utf8);\n  }, []);\n\n  // Helper: Convert ArrayBuffer to Base64\n  const arrayBufferToBase64 = buffer => {\n    let binary = '';\n    const bytes = new Uint8Array(buffer);\n    const len = bytes.byteLength;\n    for (let i = 0; i < len; i++) {\n      binary += String.fromCharCode(bytes[i]);\n    }\n    return window.btoa(binary);\n  };\n\n  // Helper: Convert Base64 to ArrayBuffer\n  const base64ToArrayBuffer = base64 => {\n    const binary_string = window.atob(base64);\n    const len = binary_string.length;\n    const bytes = new Uint8Array(len);\n    for (let i = 0; i < len; i++) {\n      bytes[i] = binary_string.charCodeAt(i);\n    }\n    return bytes.buffer;\n  };\n\n  // Helper: Export Key to PEM format\n  const exportKeyToPEM = async (key, type) => {\n    const exported = await window.crypto.subtle.exportKey(type === 'public' ? 'spki' : 'pkcs8', key);\n    const exportedAsString = arrayBufferToBase64(exported);\n    const pemExported = `-----BEGIN ${type.toUpperCase()} KEY-----\\n${exportedAsString.match(/.{1,64}/g).join('\\n')}\\n-----END ${type.toUpperCase()} KEY-----`;\n    return pemExported;\n  };\n\n  // Helper: Import Key from PEM format\n  const importKeyFromPEM = async (pem, type) => {\n    // Remove PEM header/footer\n    const pemHeader = `-----BEGIN ${type.toUpperCase()} KEY-----`;\n    const pemFooter = `-----END ${type.toUpperCase()} KEY-----`;\n    const pemContents = pem.substring(pemHeader.length, pem.length - pemFooter.length).replace(/\\s/g, '');\n    const binaryDer = base64ToArrayBuffer(pemContents);\n    return await window.crypto.subtle.importKey(type === 'public' ? 'spki' : 'pkcs8', binaryDer, {\n      name: \"RSA-OAEP\",\n      hash: \"SHA-256\"\n    }, true, [type === 'public' ? \"encrypt\" : \"decrypt\"]);\n  };\n\n  // Generate RSA key pair using Web Crypto API\n  const generateRSAKeyPair = useCallback(async () => {\n    const keyPair = await window.crypto.subtle.generateKey({\n      name: \"RSA-OAEP\",\n      modulusLength: 2048,\n      publicExponent: new Uint8Array([1, 0, 1]),\n      hash: \"SHA-256\"\n    }, true, [\"encrypt\", \"decrypt\"]);\n    const publicKeyPEM = await exportKeyToPEM(keyPair.publicKey, 'public');\n    const privateKeyPEM = await exportKeyToPEM(keyPair.privateKey, 'private');\n    return {\n      publicKey: publicKeyPEM,\n      privateKey: privateKeyPEM\n    };\n  }, []);\n\n  // Encrypt symmetric key with RSA public key\n  const encryptWithPublicKey = useCallback(async (data, publicKeyPEM) => {\n    try {\n      const publicKey = await importKeyFromPEM(publicKeyPEM, 'public');\n      const encodedData = new TextEncoder().encode(data);\n      const encryptedData = await window.crypto.subtle.encrypt({\n        name: \"RSA-OAEP\"\n      }, publicKey, encodedData);\n      return arrayBufferToBase64(encryptedData);\n    } catch (error) {\n      console.error('Encryption with public key failed:', error);\n      throw error;\n    }\n  }, []);\n\n  // Decrypt symmetric key with RSA private key\n  const decryptWithPrivateKey = useCallback(async (encryptedData, privateKeyPEM) => {\n    try {\n      const privateKey = await importKeyFromPEM(privateKeyPEM, 'private');\n      const encryptedBuffer = base64ToArrayBuffer(encryptedData);\n      const decryptedBuffer = await window.crypto.subtle.decrypt({\n        name: \"RSA-OAEP\"\n      }, privateKey, encryptedBuffer);\n      return new TextDecoder().decode(decryptedBuffer);\n    } catch (error) {\n      console.error('Decryption with private key failed:', error);\n      throw error;\n    }\n  }, []);\n\n  // Expose helpers for external use if needed\n  const exportPublicKey = key => exportKeyToPEM(key, 'public');\n  const exportPrivateKey = key => exportKeyToPEM(key, 'private');\n  const importPublicKey = pem => importKeyFromPEM(pem, 'public');\n  const importPrivateKey = pem => importKeyFromPEM(pem, 'private');\n  const value = {\n    masterKey,\n    setMasterKey,\n    privateKey,\n    setPrivateKey,\n    generateKey,\n    deriveKeyFromPassword,\n    encrypt,\n    decrypt,\n    generateRSAKeyPair,\n    encryptWithPublicKey,\n    decryptWithPrivateKey,\n    exportPublicKey,\n    exportPrivateKey,\n    importPublicKey,\n    importPrivateKey\n  };\n  return /*#__PURE__*/_jsxDEV(CryptoContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 203,\n    columnNumber: 5\n  }, this);\n};\n_s2(CryptoProvider, \"kyhdTW+81LMQD1cME6UlQHjAyOI=\");\n_c = CryptoProvider;\nvar _c;\n$RefreshReg$(_c, \"CryptoProvider\");","map":{"version":3,"names":["React","createContext","useState","useContext","useCallback","CryptoJS","jsxDEV","_jsxDEV","CryptoContext","useCrypto","_s","CryptoProvider","children","_s2","masterKey","setMasterKeyState","sessionStorage","getItem","privateKey","setPrivateKeyState","setMasterKey","key","setItem","removeItem","setPrivateKey","generateKey","lib","WordArray","random","toString","deriveKeyFromPassword","password","salt","PBKDF2","keySize","iterations","encrypt","data","iv","encrypted","AES","ciphertext","algorithm","decrypt","decrypted","enc","Hex","parse","Utf8","arrayBufferToBase64","buffer","binary","bytes","Uint8Array","len","byteLength","i","String","fromCharCode","window","btoa","base64ToArrayBuffer","base64","binary_string","atob","length","charCodeAt","exportKeyToPEM","type","exported","crypto","subtle","exportKey","exportedAsString","pemExported","toUpperCase","match","join","importKeyFromPEM","pem","pemHeader","pemFooter","pemContents","substring","replace","binaryDer","importKey","name","hash","generateRSAKeyPair","keyPair","modulusLength","publicExponent","publicKeyPEM","publicKey","privateKeyPEM","encryptWithPublicKey","encodedData","TextEncoder","encode","encryptedData","error","console","decryptWithPrivateKey","encryptedBuffer","decryptedBuffer","TextDecoder","decode","exportPublicKey","exportPrivateKey","importPublicKey","importPrivateKey","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/anshagrawal/Desktop/umb/frontend/src/contexts/CryptoContext.js"],"sourcesContent":["import React, { createContext, useState, useContext, useCallback } from 'react';\nimport CryptoJS from 'crypto-js';\n\nconst CryptoContext = createContext();\n\nexport const useCrypto = () => useContext(CryptoContext);\n\nexport const CryptoProvider = ({ children }) => {\n  const [masterKey, setMasterKeyState] = useState(sessionStorage.getItem('umbra_master_key') || null);\n  const [privateKey, setPrivateKeyState] = useState(sessionStorage.getItem('umbra_private_key') || null);\n\n  const setMasterKey = (key) => {\n    if (key) {\n      sessionStorage.setItem('umbra_master_key', key);\n    } else {\n      sessionStorage.removeItem('umbra_master_key');\n    }\n    setMasterKeyState(key);\n  };\n\n  const setPrivateKey = (key) => {\n    if (key) {\n      sessionStorage.setItem('umbra_private_key', key);\n    } else {\n      sessionStorage.removeItem('umbra_private_key');\n    }\n    setPrivateKeyState(key);\n  };\n\n  // Generate a random key\n  const generateKey = useCallback(() => {\n    return CryptoJS.lib.WordArray.random(32).toString();\n  }, []);\n\n  // Derive encryption key from password\n  const deriveKeyFromPassword = useCallback((password, salt) => {\n    return CryptoJS.PBKDF2(password, salt, {\n      keySize: 256 / 32,\n      iterations: 100000\n    }).toString();\n  }, []);\n\n  // Encrypt data with AES\n  const encrypt = useCallback((data, key) => {\n    const iv = CryptoJS.lib.WordArray.random(16);\n    const encrypted = CryptoJS.AES.encrypt(data, key, { iv });\n\n    return {\n      ciphertext: encrypted.toString(),\n      iv: iv.toString(),\n      algorithm: 'AES-CBC'\n    };\n  }, []);\n\n  // Decrypt data with AES\n  const decrypt = useCallback((ciphertext, key, iv) => {\n    const decrypted = CryptoJS.AES.decrypt(ciphertext, key, { iv: CryptoJS.enc.Hex.parse(iv) });\n    return decrypted.toString(CryptoJS.enc.Utf8);\n  }, []);\n\n  // Helper: Convert ArrayBuffer to Base64\n  const arrayBufferToBase64 = (buffer) => {\n    let binary = '';\n    const bytes = new Uint8Array(buffer);\n    const len = bytes.byteLength;\n    for (let i = 0; i < len; i++) {\n      binary += String.fromCharCode(bytes[i]);\n    }\n    return window.btoa(binary);\n  };\n\n  // Helper: Convert Base64 to ArrayBuffer\n  const base64ToArrayBuffer = (base64) => {\n    const binary_string = window.atob(base64);\n    const len = binary_string.length;\n    const bytes = new Uint8Array(len);\n    for (let i = 0; i < len; i++) {\n      bytes[i] = binary_string.charCodeAt(i);\n    }\n    return bytes.buffer;\n  };\n\n  // Helper: Export Key to PEM format\n  const exportKeyToPEM = async (key, type) => {\n    const exported = await window.crypto.subtle.exportKey(\n      type === 'public' ? 'spki' : 'pkcs8',\n      key\n    );\n    const exportedAsString = arrayBufferToBase64(exported);\n    const pemExported = `-----BEGIN ${type.toUpperCase()} KEY-----\\n${exportedAsString.match(/.{1,64}/g).join('\\n')}\\n-----END ${type.toUpperCase()} KEY-----`;\n    return pemExported;\n  };\n\n  // Helper: Import Key from PEM format\n  const importKeyFromPEM = async (pem, type) => {\n    // Remove PEM header/footer\n    const pemHeader = `-----BEGIN ${type.toUpperCase()} KEY-----`;\n    const pemFooter = `-----END ${type.toUpperCase()} KEY-----`;\n    const pemContents = pem.substring(pemHeader.length, pem.length - pemFooter.length).replace(/\\s/g, '');\n    const binaryDer = base64ToArrayBuffer(pemContents);\n\n    return await window.crypto.subtle.importKey(\n      type === 'public' ? 'spki' : 'pkcs8',\n      binaryDer,\n      {\n        name: \"RSA-OAEP\",\n        hash: \"SHA-256\"\n      },\n      true,\n      [type === 'public' ? \"encrypt\" : \"decrypt\"]\n    );\n  };\n\n  // Generate RSA key pair using Web Crypto API\n  const generateRSAKeyPair = useCallback(async () => {\n    const keyPair = await window.crypto.subtle.generateKey(\n      {\n        name: \"RSA-OAEP\",\n        modulusLength: 2048,\n        publicExponent: new Uint8Array([1, 0, 1]),\n        hash: \"SHA-256\"\n      },\n      true,\n      [\"encrypt\", \"decrypt\"]\n    );\n\n    const publicKeyPEM = await exportKeyToPEM(keyPair.publicKey, 'public');\n    const privateKeyPEM = await exportKeyToPEM(keyPair.privateKey, 'private');\n\n    return {\n      publicKey: publicKeyPEM,\n      privateKey: privateKeyPEM\n    };\n  }, []);\n\n  // Encrypt symmetric key with RSA public key\n  const encryptWithPublicKey = useCallback(async (data, publicKeyPEM) => {\n    try {\n      const publicKey = await importKeyFromPEM(publicKeyPEM, 'public');\n      const encodedData = new TextEncoder().encode(data);\n\n      const encryptedData = await window.crypto.subtle.encrypt(\n        {\n          name: \"RSA-OAEP\"\n        },\n        publicKey,\n        encodedData\n      );\n\n      return arrayBufferToBase64(encryptedData);\n    } catch (error) {\n      console.error('Encryption with public key failed:', error);\n      throw error;\n    }\n  }, []);\n\n  // Decrypt symmetric key with RSA private key\n  const decryptWithPrivateKey = useCallback(async (encryptedData, privateKeyPEM) => {\n    try {\n      const privateKey = await importKeyFromPEM(privateKeyPEM, 'private');\n      const encryptedBuffer = base64ToArrayBuffer(encryptedData);\n\n      const decryptedBuffer = await window.crypto.subtle.decrypt(\n        {\n          name: \"RSA-OAEP\"\n        },\n        privateKey,\n        encryptedBuffer\n      );\n\n      return new TextDecoder().decode(decryptedBuffer);\n    } catch (error) {\n      console.error('Decryption with private key failed:', error);\n      throw error;\n    }\n  }, []);\n\n  // Expose helpers for external use if needed\n  const exportPublicKey = (key) => exportKeyToPEM(key, 'public');\n  const exportPrivateKey = (key) => exportKeyToPEM(key, 'private');\n  const importPublicKey = (pem) => importKeyFromPEM(pem, 'public');\n  const importPrivateKey = (pem) => importKeyFromPEM(pem, 'private');\n\n  const value = {\n    masterKey,\n    setMasterKey,\n    privateKey,\n    setPrivateKey,\n    generateKey,\n    deriveKeyFromPassword,\n    encrypt,\n    decrypt,\n    generateRSAKeyPair,\n    encryptWithPublicKey,\n    decryptWithPrivateKey,\n    exportPublicKey,\n    exportPrivateKey,\n    importPublicKey,\n    importPrivateKey\n  };\n\n  return (\n    <CryptoContext.Provider value={value}>\n      {children}\n    </CryptoContext.Provider>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}