{"ast":null,"code":"var _jsxFileName = \"/Users/anshagrawal/Desktop/umb/frontend/src/pages/NoteEditor.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useParams, useNavigate, useLocation } from 'react-router-dom';\nimport { FaSave, FaTimes, FaHistory, FaLock, FaKey, FaBold, FaItalic, FaUnderline, FaListUl, FaListOl, FaHeading, FaCode, FaLink, FaImage, FaQuoteLeft, FaEye, FaEyeSlash, FaExpand, FaCompress, FaBug, FaStickyNote, FaInfoCircle, FaExclamationTriangle, FaDatabase, FaServer, FaNetworkWired, FaList, FaCheckCircle, FaExclamationCircle, FaUserPlus, FaShareAlt, FaUserFriends, FaSearch, FaUserCheck, FaUserTimes, FaEnvelope, FaSpinner, FaTimesCircle } from 'react-icons/fa';\nimport api from '../services/api';\nimport { useCrypto } from '../contexts/CryptoContext';\nimport { useAuth } from '../contexts/AuthContext';\nimport { encryptNote, decryptNote } from '../utils/cryptoUtils';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst NoteEditor = () => {\n  _s();\n  var _debugInfo$user;\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  // CRITICAL FIX: Handle the case where id is undefined\n  // If id is undefined, we're definitely creating a new note\n  const isNewNote = id === 'new' || id === undefined;\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n  const [tags, setTags] = useState('');\n  const [loading, setLoading] = useState(!isNewNote);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState('');\n  const [showHistory, setShowHistory] = useState(false);\n  const [versions, setVersions] = useState([]);\n  const [isAutoResizing, setIsAutoResizing] = useState(true);\n  const [isFullscreen, setIsFullscreen] = useState(false);\n  const [showPreview, setShowPreview] = useState(false);\n  const [debugInfo, setDebugInfo] = useState(null);\n  const [apiResponse, setApiResponse] = useState(null);\n  const [apiError, setApiError] = useState(null);\n  const [backendStatus, setBackendStatus] = useState('unknown');\n  const [showPasswordPrompt, setShowPasswordPrompt] = useState(false);\n  const [password, setPassword] = useState('');\n\n  // Sharing states\n  const [showShareModal, setShowShareModal] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [selectedUsers, setSelectedUsers] = useState([]);\n  const [searchLoading, setSearchLoading] = useState(false);\n  const [sharedWith, setSharedWith] = useState([]);\n  const [sharingError, setSharingError] = useState('');\n  const [sharingSuccess, setSharingSuccess] = useState('');\n  const [shareLoading, setShareLoading] = useState(false);\n  const textareaRef = useRef(null);\n  const editorRef = useRef(null);\n  const searchTimeoutRef = useRef(null);\n  const {\n    masterKey,\n    encrypt,\n    decrypt,\n    deriveKeyFromPassword\n  } = useCrypto();\n  const {\n    user,\n    isAuthenticated,\n    logout,\n    loading: authLoading\n  } = useAuth();\n\n  // ========== CRITICAL DEBUGGING ==========\n  useEffect(() => {\n    console.log('=== URL DEBUGGING ===');\n    console.log('useParams() id:', id);\n    console.log('Type of id:', typeof id);\n    console.log('isNewNote calculation:', id === 'new' || id === undefined);\n    console.log('Window location pathname:', window.location.pathname);\n    console.log('Window location href:', window.location.href);\n    console.log('useLocation() pathname:', location.pathname);\n    console.log('useLocation() search:', location.search);\n    console.log('useLocation() state:', location.state);\n\n    // If id is undefined but URL is /note/new, fix it manually\n    if (id === undefined && window.location.pathname === '/note/new') {\n      console.log('âš ï¸ FIXING: id is undefined but URL is /note/new');\n      console.log('âœ… Manually treating as new note');\n    }\n\n    // Check route params more carefully\n    const pathParts = window.location.pathname.split('/');\n    console.log('Path parts:', pathParts);\n    console.log('Expected note ID from path:', pathParts[2]);\n  }, [id, location]);\n\n  // ========== ROUTING FIX ==========\n  // If id is undefined, check if we should be at /note/new\n  useEffect(() => {\n    if (id === undefined) {\n      console.log('âš ï¸ NoteEditor: id is undefined from useParams()');\n      console.log('ðŸ” Checking current URL:', window.location.pathname);\n      const pathParts = window.location.pathname.split('/');\n      const lastPart = pathParts[pathParts.length - 1];\n      console.log('Last part of URL:', lastPart);\n\n      // If we're at /note (without an ID), redirect to /note/new\n      if (window.location.pathname === '/note') {\n        console.log('ðŸ” Found /note without ID, redirecting to /note/new');\n        navigate('/note/new', {\n          state: location.state || {}\n        });\n        return;\n      }\n\n      // If we're at /note/ but the ID is empty\n      if (lastPart === '' && pathParts[pathParts.length - 2] === 'note') {\n        console.log('ðŸ” Found /note/ (trailing slash), redirecting to /note/new');\n        navigate('/note/new', {\n          state: location.state || {}\n        });\n        return;\n      }\n\n      // If we're at /note/new but id is undefined (shouldn't happen with proper routing)\n      if (window.location.pathname === '/note/new') {\n        console.log('âœ… Already at /note/new, continuing with new note creation');\n        // This is okay, we'll treat it as a new note\n      }\n    }\n  }, [id, navigate, location.state, location.pathname]);\n\n  // Handle prefilled data for new notes - UPDATED\n  useEffect(() => {\n    console.log('ðŸ” NoteEditor: Checking for prefilled data...');\n    console.log('ðŸ” isNewNote:', isNewNote);\n    console.log('ðŸ” location.state:', location.state);\n    if (isNewNote) {\n      if (location.state) {\n        console.log('ðŸ” NoteEditor: Received prefilled data from Dashboard:', location.state);\n\n        // Only set title if it's not already set\n        if (location.state.prefillTitle && !title) {\n          console.log('ðŸ” Setting title to:', location.state.prefillTitle);\n          setTitle(location.state.prefillTitle);\n        }\n        if (location.state.prefillTags && location.state.prefillTags.length > 0 && !tags) {\n          console.log('ðŸ” Setting tags to:', location.state.prefillTags);\n          setTags(location.state.prefillTags.join(', '));\n        }\n\n        // Handle encryption if needed\n        if (location.state.shouldEncrypt && !masterKey && location.state.encryptionPassword) {\n          console.log('ðŸ” Note should be encrypted, setting master key...');\n          try {\n            const derivedKey = deriveKeyFromPassword(location.state.encryptionPassword, 'master-salt');\n            // In a real app, you would set this in the crypto context\n            console.log('ðŸ” Derived key created');\n            alert('Encryption enabled for this note');\n          } catch (error) {\n            console.error('Failed to set encryption key:', error);\n          }\n        }\n      } else {\n        console.log('ðŸ” No prefilled data found - creating empty note');\n      }\n    }\n  }, [isNewNote, location.state, masterKey]);\n\n  // Add debugging to see what's happening\n  useEffect(() => {\n    console.log('ðŸ” DEBUG - Current component state:');\n    console.log('  Title:', title);\n    console.log('  Tags:', tags);\n    console.log('  Content length:', content.length);\n    console.log('  isNewNote:', isNewNote);\n    console.log('  Note ID from URL:', id);\n    console.log('  Full URL:', window.location.href);\n    console.log('  Location state:', location.state);\n\n    // Check if we're on the wrong URL\n    if (id !== 'new' && id !== undefined && !/^[0-9a-fA-F]{24}$/.test(id)) {\n      console.error('âŒ ERROR: Invalid note ID in URL! Expected \"new\" or valid ObjectId');\n      console.error('âŒ Current ID:', id);\n      alert(`Wrong URL! You should be at /note/new but you're at /note/${id}\\n\\nGo back and create a note again.`);\n    }\n  }, [title, tags, content, isNewNote, id, location.state]);\n\n  // Debug: Log authentication state\n  useEffect(() => {\n    console.log('ðŸ” NoteEditor: Component mounted');\n    console.log('ðŸ” NoteEditor: isAuthenticated:', isAuthenticated);\n    console.log('ðŸ” NoteEditor: User:', user);\n    console.log('ðŸ” NoteEditor: User ID:', user === null || user === void 0 ? void 0 : user._id);\n    console.log('ðŸ” NoteEditor: Token in localStorage:', localStorage.getItem('token') ? 'Present' : 'Missing');\n    console.log('ðŸ” NoteEditor: Auth loading:', authLoading);\n    console.log('ðŸ” NoteEditor: Note ID from URL:', id);\n    console.log('ðŸ” NoteEditor: Is new note?', isNewNote);\n    console.log('ðŸ” NoteEditor: Note ID type:', typeof id);\n    console.log('ðŸ” NoteEditor: Note ID value:', JSON.stringify(id));\n\n    // Check axios headers\n    console.log('ðŸ” NoteEditor: Axios headers:', axios.defaults.headers.common);\n\n    // Update debug info\n    updateDebugInfo();\n\n    // Check backend status\n    checkBackendStatus();\n  }, [isAuthenticated, user, authLoading, id, isNewNote]);\n  useEffect(() => {\n    // Debug: Show current state\n    console.log('=== NOTE EDITOR AUTH CHECK ===');\n    console.log('authLoading:', authLoading);\n    console.log('isAuthenticated:', isAuthenticated);\n    console.log('isNewNote:', isNewNote);\n    console.log('Note ID:', id);\n    console.log('Note ID type:', typeof id);\n\n    // Wait for auth to finish loading\n    if (authLoading) {\n      console.log('ðŸ” NoteEditor: Auth still loading, waiting...');\n      return;\n    }\n\n    // Check authentication\n    if (!isAuthenticated) {\n      console.log('ðŸ” NoteEditor: User not authenticated, redirecting to login');\n      setError('Please log in to create or edit notes');\n      navigate('/login');\n      return;\n    }\n    console.log('ðŸ” NoteEditor: User authenticated, proceeding...');\n    console.log('ðŸ” NoteEditor: User details:', {\n      id: user === null || user === void 0 ? void 0 : user._id,\n      email: user === null || user === void 0 ? void 0 : user.email\n    });\n    if (!isNewNote) {\n      fetchNote();\n    } else {\n      setLoading(false);\n    }\n  }, [id, isAuthenticated, navigate, authLoading, isNewNote, user]);\n\n  // Auto-resize textarea based on content\n  const resizeTextarea = () => {\n    if (textareaRef.current && isAutoResizing) {\n      textareaRef.current.style.height = 'auto';\n      const newHeight = Math.max(400, textareaRef.current.scrollHeight);\n      textareaRef.current.style.height = `${newHeight}px`;\n    }\n  };\n  useEffect(() => {\n    resizeTextarea();\n  }, [content]);\n\n  // Check backend status\n  const checkBackendStatus = async () => {\n    try {\n      // Try to ping the backend\n      const response = await axios.get('http://localhost:5000/', {\n        timeout: 2000\n      });\n      setBackendStatus('connected');\n      console.log('âœ… Backend is connected');\n    } catch (error) {\n      setBackendStatus('disconnected');\n      console.warn('âš ï¸ Backend connection check failed:', error.message);\n    }\n  };\n\n  // Handle password prompt for encryption\n  const handlePasswordSubmit = () => {\n    if (!password.trim()) {\n      alert('Please enter a password');\n      return;\n    }\n    try {\n      const derivedKey = deriveKeyFromPassword(password, 'master-salt');\n      // In a real app, you would set this in the crypto context\n      console.log('ðŸ” Password set for encryption');\n      setShowPasswordPrompt(false);\n      setPassword('');\n      alert('Encryption password set. Your note will be encrypted when saved.');\n    } catch (error) {\n      console.error('Failed to set encryption password:', error);\n      alert('Failed to set encryption password');\n    }\n  };\n\n  // Debug function to check note ID\n  const debugNoteId = () => {\n    const info = {\n      idFromParams: id,\n      type: typeof id,\n      length: id === null || id === void 0 ? void 0 : id.length,\n      isNewNote: id === 'new' || id === undefined,\n      fullURL: window.location.href,\n      pathname: window.location.pathname,\n      isValidObjectId: id && id !== 'new' && id !== undefined ? /^[0-9a-fA-F]{24}$/.test(id) : false\n    };\n    console.log('ðŸ” Debug Note ID:', info);\n    alert(`Note ID Debug:\\n\\n` + `ID from useParams(): \"${id}\"\\n` + `Type: ${typeof id}\\n` + `Length: ${id === null || id === void 0 ? void 0 : id.length}\\n` + `Is new note? ${info.isNewNote ? 'âœ… Yes' : 'âŒ No'}\\n` + `Valid ObjectId? ${info.isValidObjectId ? 'âœ… Yes' : 'âŒ No'}\\n` + `Full URL: ${window.location.href}\\n` + `Pathname: ${window.location.pathname}\\n` + `Expected note ID from path: ${window.location.pathname.split('/')[2]}`);\n  };\n\n  // Test API call directly (bypassing the api service)\n  const testDirectApiCall = async () => {\n    try {\n      setApiError(null);\n      setApiResponse(null);\n      const token = localStorage.getItem('token');\n      console.log('ðŸ” Direct API Test:');\n      console.log('Token:', token ? `${token.substring(0, 20)}...` : 'Missing');\n      console.log('Note ID:', id);\n      console.log('User ID:', user === null || user === void 0 ? void 0 : user._id);\n      if (!token) {\n        throw new Error('No token found in localStorage');\n      }\n\n      // Better validation for note ID\n      if (!id || id === 'new' || id === 'undefined' || id === 'null' || id === undefined) {\n        throw new Error(`Cannot test API: This is a new note (ID: \"${id}\"). Create a note first, then edit it.`);\n      }\n\n      // Check if ID looks like a MongoDB ObjectId (24 hex characters)\n      const isValidObjectId = /^[0-9a-fA-F]{24}$/.test(id);\n      if (!isValidObjectId) {\n        throw new Error(`Invalid note ID format: \"${id}\". Expected 24-character hex string. Visit /notes to see your notes.`);\n      }\n      console.log('ðŸ” Making direct API call to:', `http://localhost:5000/api/notes/${id}`);\n      const response = await axios.get(`http://localhost:5000/api/notes/${id}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        timeout: 5000\n      });\n      console.log('âœ… Direct API Success:', response.data);\n      setApiResponse(response.data);\n      alert(`âœ… Direct API call successful!\\n\\nTitle: ${response.data.title}\\nID: ${response.data._id}\\nOwner: ${response.data.ownerId}`);\n      return response.data;\n    } catch (error) {\n      var _error$response, _error$response2, _error$response3;\n      const errorDetails = {\n        status: (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status,\n        statusText: (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.statusText,\n        data: (_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.data,\n        message: error.message,\n        code: error.code\n      };\n      console.error('âŒ Direct API Error:', errorDetails);\n      setApiError(errorDetails);\n      let errorMessage = `Direct API test failed:\\n\\n`;\n      errorMessage += `Status: ${errorDetails.status || 'No response'}\\n`;\n      errorMessage += `Message: ${errorDetails.message}\\n`;\n      if (errorDetails.data) {\n        errorMessage += `Error: ${JSON.stringify(errorDetails.data, null, 2)}\\n`;\n      }\n      if (errorDetails.status === 404) {\n        errorMessage += `\\nðŸ’¡ Tip: This note doesn't exist or you don't have access. Visit /notes to see your notes.`;\n      } else if (errorDetails.code === 'ECONNREFUSED') {\n        errorMessage += `\\nðŸ’¡ Tip: Backend server is not running on port 5000. Start it with: cd backend && npm start`;\n      }\n      alert(errorMessage);\n      return null;\n    }\n  };\n\n  // Test backend connectivity\n  const testBackendHealth = async () => {\n    try {\n      console.log('ðŸ” Testing backend health...');\n\n      // Try multiple endpoints to see what works\n      const endpoints = [{\n        url: 'http://localhost:5000/',\n        name: 'Root'\n      }, {\n        url: 'http://localhost:5000/api/auth/me',\n        name: 'Auth Check'\n      }, {\n        url: 'http://localhost:5000/api/notes',\n        name: 'Notes List'\n      }];\n      let success = false;\n      let errorMessage = '';\n      let workingEndpoint = null;\n      for (const endpoint of endpoints) {\n        try {\n          console.log(`Trying ${endpoint.name} (${endpoint.url})...`);\n          const response = await axios.get(endpoint.url, {\n            timeout: 2000,\n            headers: endpoint.url.includes('/auth/me') && localStorage.getItem('token') ? {\n              'Authorization': `Bearer ${localStorage.getItem('token')}`\n            } : {}\n          });\n          console.log(`âœ… ${endpoint.name} responded:`, response.status);\n          success = true;\n          workingEndpoint = endpoint;\n          break;\n        } catch (err) {\n          var _err$response;\n          errorMessage = err.message;\n          console.log(`âŒ ${endpoint.name} failed:`, err.message);\n\n          // If it's a 401, backend is running but token is invalid\n          if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 401) {\n            success = true;\n            workingEndpoint = endpoint;\n            errorMessage = 'Backend is running but token is invalid/expired';\n            break;\n          }\n        }\n      }\n      if (success) {\n        setBackendStatus('connected');\n        if (workingEndpoint) {\n          alert(`âœ… Backend is running!\\n\\nEndpoint: ${workingEndpoint.name}\\nURL: ${workingEndpoint.url}\\n\\nStatus: Connected`);\n        }\n      } else {\n        setBackendStatus('disconnected');\n        throw new Error(`All endpoints failed. Last error: ${errorMessage}`);\n      }\n    } catch (error) {\n      console.error('âŒ Backend health check failed:', error.message);\n      setBackendStatus('disconnected');\n      alert(`âŒ Cannot connect to backend:\\n\\n${error.message}\\n\\nMake sure:\\n1. Backend server is running on port 5000\\n2. Run: cd backend && npm start\\n3. Check if port 5000 is available`);\n    }\n  };\n\n  // List all notes to see what's available\n  const listAllNotes = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        alert('âŒ No token found. Please log in first.');\n        return;\n      }\n      console.log('ðŸ” Listing all notes...');\n      const response = await axios.get('http://localhost:5000/api/notes', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        },\n        timeout: 5000\n      });\n      console.log('âœ… Notes list:', response.data);\n      if (response.data.length === 0) {\n        alert('ðŸ“ No notes found. Create a new note first!');\n        return;\n      }\n      let message = `ðŸ“š Found ${response.data.length} notes:\\n\\n`;\n      response.data.forEach((note, index) => {\n        var _note$tags;\n        message += `${index + 1}. ${note.title || 'Untitled'} \\n`;\n        message += `   ID: ${note._id}\\n`;\n        message += `   Created: ${new Date(note.createdAt).toLocaleDateString()}\\n`;\n        message += `   Tags: ${((_note$tags = note.tags) === null || _note$tags === void 0 ? void 0 : _note$tags.join(', ')) || 'None'}\\n\\n`;\n      });\n      message += `\\nðŸ’¡ Tip: Copy a note ID and visit /note/[id] to edit it.`;\n      alert(message);\n    } catch (error) {\n      var _error$response4;\n      console.error('âŒ Failed to list notes:', error);\n      let errorMsg = `Failed to list notes:\\n\\n${error.message}`;\n      if (((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.status) === 401) {\n        errorMsg += '\\n\\nYour session may have expired. Please log in again.';\n      } else if (error.code === 'ECONNREFUSED') {\n        errorMsg += '\\n\\nBackend server is not running. Start it with: cd backend && npm start';\n      }\n      alert(errorMsg);\n    }\n  };\n  const fetchNote = async () => {\n    try {\n      var _note$tags2, _note$tags3;\n      // If it's a new note, don't try to fetch\n      if (isNewNote) {\n        setLoading(false);\n        return;\n      }\n      setLoading(true);\n      setError('');\n      setApiError(null);\n      setApiResponse(null);\n      console.log('ðŸ” NoteEditor: Fetching note with ID:', id);\n      console.log('ðŸ” NoteEditor: User ID:', user === null || user === void 0 ? void 0 : user._id);\n\n      // Check if ID is literally \"undefined\" string\n      if (id === \"undefined\") {\n        const errorMsg = 'Invalid note URL. The note ID is missing. Go to /notes to see your notes or /note/new to create one.';\n        console.error('ðŸ” NoteEditor:', errorMsg);\n        setError(errorMsg);\n        setLoading(false);\n        return;\n      }\n\n      // Validate ID format\n      if (!id || !/^[0-9a-fA-F]{24}$/.test(id)) {\n        const errorMsg = `Invalid note ID format: \"${id}\". Expected 24-character hex string. Visit /notes to see your notes.`;\n        console.error('ðŸ” NoteEditor:', errorMsg);\n        setError(errorMsg);\n        throw new Error(errorMsg);\n      }\n      console.log('ðŸ” NoteEditor: Using api.getNote() service...');\n      const response = await api.getNote(id);\n      console.log('ðŸ” NoteEditor: Note fetched successfully:', response.data);\n      const note = response.data;\n      setApiResponse(note);\n\n      // Check if note is actually returned\n      if (!note) {\n        const errorMsg = 'Note not found in response (null/undefined)';\n        console.error('ðŸ” NoteEditor:', errorMsg);\n        setError(errorMsg);\n        throw new Error(errorMsg);\n      }\n      console.log('ðŸ” NoteEditor: Note details:', {\n        id: note._id,\n        title: note.title,\n        ownerId: note.ownerId,\n        hasContent: !!note.content,\n        isEncrypted: note.isEncrypted,\n        tagsCount: ((_note$tags2 = note.tags) === null || _note$tags2 === void 0 ? void 0 : _note$tags2.length) || 0\n      });\n      setTitle(note.title || '');\n      setTags(((_note$tags3 = note.tags) === null || _note$tags3 === void 0 ? void 0 : _note$tags3.join(', ')) || '');\n\n      // Decrypt content if we have the master key\n      if (masterKey && note.isEncrypted && note.encryptionMetadata) {\n        try {\n          console.log('ðŸ” NoteEditor: Attempting to decrypt note content');\n          const decryptedContent = decryptNote(note.content, masterKey, note.encryptionMetadata.iv);\n          setContent(decryptedContent);\n          console.log('ðŸ” NoteEditor: Note decrypted successfully');\n        } catch (decryptError) {\n          console.error('ðŸ” NoteEditor: Decryption failed:', decryptError);\n          setError('Failed to decrypt note. Check your master password.');\n          setContent('[Encrypted - Enter master password to view]');\n        }\n      } else {\n        setContent(note.content || '');\n      }\n    } catch (error) {\n      var _error$response5, _error$response6, _error$response7, _error$response8, _error$config, _error$config2, _error$config3, _error$response9, _error$response0, _error$response1, _error$response10, _error$response11, _error$response12, _error$message, _error$message2;\n      console.error('ðŸ” NoteEditor: Failed to fetch note:', {\n        message: error.message,\n        response: (_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : _error$response5.data,\n        status: (_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : _error$response6.status,\n        statusText: (_error$response7 = error.response) === null || _error$response7 === void 0 ? void 0 : _error$response7.statusText,\n        headers: (_error$response8 = error.response) === null || _error$response8 === void 0 ? void 0 : _error$response8.headers,\n        config: {\n          url: (_error$config = error.config) === null || _error$config === void 0 ? void 0 : _error$config.url,\n          method: (_error$config2 = error.config) === null || _error$config2 === void 0 ? void 0 : _error$config2.method,\n          headers: (_error$config3 = error.config) === null || _error$config3 === void 0 ? void 0 : _error$config3.headers\n        }\n      });\n      setApiError({\n        status: (_error$response9 = error.response) === null || _error$response9 === void 0 ? void 0 : _error$response9.status,\n        statusText: (_error$response0 = error.response) === null || _error$response0 === void 0 ? void 0 : _error$response0.statusText,\n        data: (_error$response1 = error.response) === null || _error$response1 === void 0 ? void 0 : _error$response1.data,\n        message: error.message\n      });\n      if (((_error$response10 = error.response) === null || _error$response10 === void 0 ? void 0 : _error$response10.status) === 401) {\n        setError('Session expired. Please log in again.');\n        logout();\n        navigate('/login');\n      } else if (((_error$response11 = error.response) === null || _error$response11 === void 0 ? void 0 : _error$response11.status) === 404) {\n        setError(`Note not found (ID: ${id}). It may have been deleted or you don't have access. Visit /notes to see your notes.`);\n      } else if (((_error$response12 = error.response) === null || _error$response12 === void 0 ? void 0 : _error$response12.status) === 500) {\n        setError('Server error (500). Please check backend logs and make sure MongoDB is running.');\n      } else if (error.code === 'ECONNREFUSED') {\n        setError('Cannot connect to backend server. Make sure it\\'s running on http://localhost:5000');\n      } else if ((_error$message = error.message) !== null && _error$message !== void 0 && _error$message.includes('Network Error')) {\n        setError('Network error. Check your internet connection and backend server.');\n      } else if ((_error$message2 = error.message) !== null && _error$message2 !== void 0 && _error$message2.includes('Invalid note ID format')) {\n        setError(error.message);\n      } else {\n        setError(`Failed to load note: ${error.message || 'Unknown error'}`);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchVersions = async () => {\n    try {\n      const response = await api.getNoteVersions(id);\n      setVersions(response.data.versions);\n      setShowHistory(true);\n    } catch (error) {\n      console.error('Failed to fetch versions:', error);\n    }\n  };\n  const updateDebugInfo = async () => {\n    const token = localStorage.getItem('token');\n    const info = {\n      timestamp: new Date().toISOString(),\n      authLoading,\n      isAuthenticated,\n      user: user ? {\n        email: user.email,\n        id: user._id || user.id,\n        hasId: !!(user._id || user.id)\n      } : null,\n      hasToken: !!token,\n      tokenLength: (token === null || token === void 0 ? void 0 : token.length) || 0,\n      tokenPreview: token ? `${token.substring(0, 10)}...${token.substring(token.length - 10)}` : null,\n      masterKey: !!masterKey,\n      noteId: id,\n      isNewNote,\n      isValidObjectId: id && id !== 'new' && id !== undefined ? /^[0-9a-fA-F]{24}$/.test(id) : false,\n      backendStatus,\n      apiResponse: apiResponse ? {\n        hasData: true,\n        id: apiResponse._id,\n        title: apiResponse.title,\n        ownerId: apiResponse.ownerId\n      } : null,\n      apiError: apiError ? {\n        status: apiError.status,\n        message: apiError.message\n      } : null\n    };\n    setDebugInfo(info);\n    console.log('ðŸ” Debug Info Updated:', info);\n  };\n  const debugAuth = async () => {\n    console.log('=== DEBUG AUTHENTICATION ===');\n    console.log('1. LocalStorage token:', localStorage.getItem('token'));\n    console.log('2. isAuthenticated:', isAuthenticated);\n    console.log('3. User:', user);\n    console.log('4. User ID:', user === null || user === void 0 ? void 0 : user._id);\n    console.log('5. Axios headers:', axios.defaults.headers.common);\n    console.log('6. Auth loading:', authLoading);\n    const token = localStorage.getItem('token');\n    if (!token) {\n      console.log('ERROR: No token in localStorage');\n      alert('âŒ No token found. Please log in again.');\n      return;\n    }\n    try {\n      console.log('Testing token with backend...');\n      const response = await axios.get('http://localhost:5000/api/auth/me', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      console.log('âœ… Token is valid:', response.data);\n      alert('âœ… Token is valid!\\n\\nUser: ' + response.data.user.email + '\\nID: ' + response.data.user._id);\n    } catch (error) {\n      var _error$response13, _error$response14, _error$response15, _error$response15$dat;\n      console.error('âŒ Token test failed:', {\n        status: (_error$response13 = error.response) === null || _error$response13 === void 0 ? void 0 : _error$response13.status,\n        message: error.message,\n        data: (_error$response14 = error.response) === null || _error$response14 === void 0 ? void 0 : _error$response14.data\n      });\n      alert('âŒ Token validation failed: ' + (((_error$response15 = error.response) === null || _error$response15 === void 0 ? void 0 : (_error$response15$dat = _error$response15.data) === null || _error$response15$dat === void 0 ? void 0 : _error$response15$dat.error) || error.message));\n    }\n  };\n\n  // ========== FIX: Handle navigation from Dashboard ==========\n  const handleCreateNewNote = () => {\n    console.log('ðŸ” Creating new note manually...');\n    console.log('ðŸ” Current URL:', window.location.href);\n    console.log('ðŸ” Current pathname:', window.location.pathname);\n\n    // Force navigation to /note/new with state\n    navigate('/note/new', {\n      state: location.state || {},\n      replace: true // Replace current history entry\n    });\n  };\n\n  // ========== SHARING FUNCTIONS ==========\n  const searchUsers = async query => {\n    if (query.length < 2) {\n      setSearchResults([]);\n      return;\n    }\n    setSearchLoading(true);\n    setSharingError('');\n    try {\n      console.log('ðŸ” Searching users with query:', query);\n      const response = await api.searchUsers(query);\n      console.log('âœ… Search results:', response.data);\n\n      // Filter out users already selected or already shared with\n      const filteredResults = response.data.filter(user => !selectedUsers.some(selected => selected._id === user._id) && !sharedWith.some(shared => shared.userId === user._id));\n      setSearchResults(filteredResults);\n    } catch (error) {\n      var _error$response16, _error$response16$dat;\n      console.error('âŒ User search failed:', error);\n      setSharingError('Failed to search users: ' + (((_error$response16 = error.response) === null || _error$response16 === void 0 ? void 0 : (_error$response16$dat = _error$response16.data) === null || _error$response16$dat === void 0 ? void 0 : _error$response16$dat.error) || error.message));\n      setSearchResults([]);\n    } finally {\n      setSearchLoading(false);\n    }\n  };\n  const handleSearchChange = e => {\n    const query = e.target.value;\n    setSearchQuery(query);\n\n    // Clear previous timeout\n    if (searchTimeoutRef.current) {\n      clearTimeout(searchTimeoutRef.current);\n    }\n\n    // Debounce search (wait 500ms after user stops typing)\n    searchTimeoutRef.current = setTimeout(() => {\n      searchUsers(query);\n    }, 500);\n  };\n  const handleAddUser = user => {\n    // Check if user is already selected\n    if (!selectedUsers.some(u => u._id === user._id)) {\n      setSelectedUsers([...selectedUsers, user]);\n      setSearchQuery('');\n      setSearchResults([]);\n    }\n  };\n  const handleRemoveSelectedUser = userId => {\n    setSelectedUsers(selectedUsers.filter(user => user._id !== userId));\n  };\n  const handleRemoveSharedUser = async userId => {\n    try {\n      setShareLoading(true);\n      setSharingError('');\n      const response = await api.removeShare(id, userId);\n      console.log('âœ… Share removed:', response.data);\n\n      // Update local state\n      setSharedWith(sharedWith.filter(share => share.userId !== userId));\n      setSharingSuccess('User removed from shared list');\n      setTimeout(() => setSharingSuccess(''), 3000);\n    } catch (error) {\n      var _error$response17, _error$response17$dat;\n      console.error('âŒ Remove share failed:', error);\n      setSharingError('Failed to remove share: ' + (((_error$response17 = error.response) === null || _error$response17 === void 0 ? void 0 : (_error$response17$dat = _error$response17.data) === null || _error$response17$dat === void 0 ? void 0 : _error$response17$dat.error) || error.message));\n    } finally {\n      setShareLoading(false);\n    }\n  };\n  const handleShareNote = async () => {\n    if (selectedUsers.length === 0) {\n      setSharingError('Please select at least one user to share with');\n      return;\n    }\n    if (!id || isNewNote) {\n      setSharingError('Please save the note first before sharing');\n      return;\n    }\n    setShareLoading(true);\n    setSharingError('');\n    setSharingSuccess('');\n    try {\n      console.log('ðŸ” Sharing note with users:', selectedUsers);\n\n      // For each selected user, share the note\n      const sharePromises = selectedUsers.map(async user => {\n        const shareData = {\n          userId: user._id,\n          permission: 'read' // or 'write' based on your UI\n        };\n\n        // If note is encrypted, you might need to add encryptedKey here\n        if (masterKey && content) {\n          // You'll need to encrypt the key for the target user\n          // This depends on your encryption implementation\n          // shareData.encryptedKey = encryptedKeyForUser;\n        }\n        return api.shareNote(id, shareData);\n      });\n      const results = await Promise.all(sharePromises);\n      console.log('âœ… Share results:', results);\n\n      // Add to sharedWith list\n      const newSharedUsers = selectedUsers.map((user, index) => ({\n        userId: user._id,\n        permission: 'read',\n        sharedAt: new Date().toISOString(),\n        user: {\n          _id: user._id,\n          username: user.username,\n          email: user.email\n        }\n      }));\n      setSharedWith([...sharedWith, ...newSharedUsers]);\n      setSelectedUsers([]);\n      setSearchQuery('');\n      setSharingSuccess(`Successfully shared with ${selectedUsers.length} user(s)`);\n      setTimeout(() => {\n        setSharingSuccess('');\n        setShowShareModal(false);\n      }, 3000);\n    } catch (error) {\n      var _error$response18, _error$response19, _error$response20, _error$response20$dat;\n      console.error('âŒ Share failed:', {\n        message: error.message,\n        response: (_error$response18 = error.response) === null || _error$response18 === void 0 ? void 0 : _error$response18.data,\n        status: (_error$response19 = error.response) === null || _error$response19 === void 0 ? void 0 : _error$response19.status\n      });\n      const errorMsg = ((_error$response20 = error.response) === null || _error$response20 === void 0 ? void 0 : (_error$response20$dat = _error$response20.data) === null || _error$response20$dat === void 0 ? void 0 : _error$response20$dat.error) || error.message;\n      setSharingError(`Failed to share note: ${errorMsg}`);\n    } finally {\n      setShareLoading(false);\n    }\n  };\n  const fetchSharedWith = async () => {\n    if (!id || isNewNote) return;\n    try {\n      console.log('ðŸ” Fetching shared users for note:', id);\n      const response = await api.getNoteSharedWith(id);\n      console.log('âœ… Shared with:', response.data);\n      setSharedWith(response.data);\n    } catch (error) {\n      var _error$response21;\n      console.error('âŒ Failed to fetch shared users:', error);\n      // Don't show error if endpoint doesn't exist yet\n      if (((_error$response21 = error.response) === null || _error$response21 === void 0 ? void 0 : _error$response21.status) !== 404) {\n        var _error$response22;\n        console.error('Error details:', (_error$response22 = error.response) === null || _error$response22 === void 0 ? void 0 : _error$response22.data);\n      }\n    }\n  };\n\n  // Add this useEffect to fetch shared users when note loads\n  useEffect(() => {\n    if (!isNewNote && id && isAuthenticated) {\n      fetchSharedWith();\n    }\n  }, [id, isNewNote, isAuthenticated]);\n  const openShareModal = () => {\n    setShowShareModal(true);\n    setSearchQuery('');\n    setSearchResults([]);\n    setSelectedUsers([]);\n    setSharingError('');\n    setSharingSuccess('');\n  };\n\n  // Debug sharing function\n  const debugSharing = async () => {\n    console.log('=== DEBUG SHARING ===');\n    console.log('1. Note ID:', id);\n    console.log('2. Is new note:', isNewNote);\n    console.log('3. Current user:', user);\n    console.log('4. Selected users:', selectedUsers);\n    console.log('5. Shared with:', sharedWith);\n\n    // Test user search\n    if (searchQuery.length >= 2) {\n      console.log('Testing user search with query:', searchQuery);\n      try {\n        const response = await api.searchUsers(searchQuery);\n        console.log('Search response:', response.data);\n      } catch (error) {\n        var _error$response23;\n        console.error('Search error:', ((_error$response23 = error.response) === null || _error$response23 === void 0 ? void 0 : _error$response23.data) || error.message);\n      }\n    }\n\n    // Test share endpoint\n    if (id && !isNewNote && selectedUsers.length > 0) {\n      console.log('Testing share with first selected user:', selectedUsers[0]);\n      const testShareData = {\n        userId: selectedUsers[0]._id,\n        permission: 'read'\n      };\n      console.log('Share data:', testShareData);\n      try {\n        const response = await api.shareNote(id, testShareData);\n        console.log('Share test response:', response.data);\n      } catch (error) {\n        var _error$response24, _error$response25;\n        console.error('Share test error:', {\n          status: (_error$response24 = error.response) === null || _error$response24 === void 0 ? void 0 : _error$response24.status,\n          data: (_error$response25 = error.response) === null || _error$response25 === void 0 ? void 0 : _error$response25.data,\n          message: error.message\n        });\n      }\n    }\n  };\n\n  // UPDATED save function\n  const handleSave = async () => {\n    console.log('ðŸ” NoteEditor: Save button clicked');\n    console.log('ðŸ” Current title:', title);\n    console.log('ðŸ” Current content length:', content.length);\n    console.log('ðŸ” isNewNote:', isNewNote);\n    console.log('ðŸ” id from useParams:', id);\n    if (!title.trim()) {\n      setError('Title is required');\n      return;\n    }\n\n    // Check if we have a token\n    const token = localStorage.getItem('token');\n    if (!token) {\n      console.log('ðŸ” NoteEditor: No token found, redirecting to login');\n      setError('Please log in to save notes');\n      navigate('/login');\n      return;\n    }\n    setSaving(true);\n    setError('');\n    try {\n      // Process tags\n      const tagsArray = tags.split(',').map(tag => tag.trim()).filter(tag => tag.length > 0);\n      const noteData = {\n        title: title.trim(),\n        tags: tagsArray,\n        isEncrypted: !!masterKey\n      };\n      console.log('ðŸ” NoteEditor: Note data to save:', {\n        title: noteData.title,\n        tagsCount: noteData.tags.length,\n        hasContent: !!content,\n        isEncrypted: noteData.isEncrypted\n      });\n\n      // Encrypt content if we have master key\n      if (masterKey && content) {\n        try {\n          console.log('ðŸ” NoteEditor: Encrypting content...');\n          const encrypted = encryptNote(content, masterKey);\n          noteData.content = encrypted.ciphertext;\n          noteData.encryptionMetadata = {\n            algorithm: 'AES-CBC',\n            iv: encrypted.iv,\n            salt: encrypted.salt\n          };\n          console.log('ðŸ” NoteEditor: Content encrypted successfully');\n        } catch (encryptError) {\n          console.error('ðŸ” NoteEditor: Encryption error:', encryptError);\n          setError('Failed to encrypt note. Using plaintext.');\n          noteData.content = content;\n          noteData.isEncrypted = false;\n        }\n      } else {\n        noteData.content = content;\n        noteData.isEncrypted = false;\n      }\n      console.log('ðŸ” NoteEditor: Sending note data to API...');\n      let response;\n      if (isNewNote) {\n        console.log('ðŸ” Creating new note via API...');\n        response = await api.createNote(noteData);\n        console.log('ðŸ” NoteEditor: Create response:', response.data);\n      } else {\n        console.log('ðŸ” Updating existing note via API...');\n        response = await api.updateNote(id, noteData);\n        console.log('ðŸ” NoteEditor: Update response:', response.data);\n      }\n      if (response.data && response.data.id) {\n        console.log('âœ… Note saved successfully! ID:', response.data.id);\n        alert('âœ… Note saved successfully!');\n        if (isNewNote) {\n          // Navigate to the newly created note\n          navigate(`/note/${response.data.id}`);\n        } else {\n          // Refresh the note data\n          fetchNote();\n        }\n      } else {\n        console.error('âŒ Note saved but no ID returned:', response.data);\n        alert('Note saved but something went wrong. Please check console.');\n      }\n    } catch (error) {\n      var _error$response26, _error$response27, _error$config4, _error$config5, _error$response28, _error$response29, _error$response30;\n      console.error('ðŸ” NoteEditor: Save error:', {\n        message: error.message,\n        response: (_error$response26 = error.response) === null || _error$response26 === void 0 ? void 0 : _error$response26.data,\n        status: (_error$response27 = error.response) === null || _error$response27 === void 0 ? void 0 : _error$response27.status,\n        config: {\n          url: (_error$config4 = error.config) === null || _error$config4 === void 0 ? void 0 : _error$config4.url,\n          method: (_error$config5 = error.config) === null || _error$config5 === void 0 ? void 0 : _error$config5.method\n        }\n      });\n      if (((_error$response28 = error.response) === null || _error$response28 === void 0 ? void 0 : _error$response28.status) === 401) {\n        setError('Session expired. Please log in again.');\n        localStorage.removeItem('token');\n        window.location.href = '/login';\n      } else if (error.code === 'ECONNREFUSED') {\n        setError('Cannot connect to backend server. Make sure it\\'s running on http://localhost:5000');\n      } else if (((_error$response29 = error.response) === null || _error$response29 === void 0 ? void 0 : _error$response29.status) === 400) {\n        setError(`Validation error: ${JSON.stringify(error.response.data)}`);\n      } else if (((_error$response30 = error.response) === null || _error$response30 === void 0 ? void 0 : _error$response30.status) === 500) {\n        setError('Server error (500). Please check backend logs.');\n      } else {\n        var _error$response31, _error$response31$dat;\n        setError(((_error$response31 = error.response) === null || _error$response31 === void 0 ? void 0 : (_error$response31$dat = _error$response31.data) === null || _error$response31$dat === void 0 ? void 0 : _error$response31$dat.error) || 'Failed to save note');\n      }\n    } finally {\n      setSaving(false);\n    }\n  };\n  const handleRestoreVersion = async version => {\n    if (window.confirm(`Restore to version ${version}?`)) {\n      try {\n        await api.restoreVersion(id, version);\n        fetchNote();\n        setShowHistory(false);\n        alert('Version restored successfully!');\n      } catch (error) {\n        console.error('Restore error:', error);\n        alert('Failed to restore version');\n      }\n    }\n  };\n\n  // Enhanced formatting functions\n  const formatText = (command, value = null) => {\n    const textarea = textareaRef.current;\n    if (!textarea) return;\n    const start = textarea.selectionStart;\n    const end = textarea.selectionEnd;\n    const selectedText = content.substring(start, end);\n    let formattedText = '';\n    let cursorOffset = 0;\n    switch (command) {\n      case 'bold':\n        formattedText = `**${selectedText}**`;\n        cursorOffset = selectedText ? 2 : 0;\n        break;\n      case 'italic':\n        formattedText = `*${selectedText}*`;\n        cursorOffset = selectedText ? 1 : 0;\n        break;\n      case 'underline':\n        formattedText = `<u>${selectedText}</u>`;\n        cursorOffset = selectedText ? 3 : 0;\n        break;\n      case 'heading':\n        const level = value || 1;\n        formattedText = `${'#'.repeat(level)} ${selectedText}`;\n        cursorOffset = selectedText ? level + 1 : 0;\n        break;\n      case 'bullet':\n        formattedText = selectedText ? `\\n- ${selectedText}` : `\\n- `;\n        cursorOffset = selectedText ? 3 : 2;\n        break;\n      case 'numbered':\n        formattedText = selectedText ? `\\n1. ${selectedText}` : `\\n1. `;\n        cursorOffset = selectedText ? 4 : 3;\n        break;\n      case 'code':\n        formattedText = selectedText ? `\\`\\`\\`\\n${selectedText}\\n\\`\\`\\`` : `\\`\\`\\`\\n\\`\\`\\``;\n        cursorOffset = selectedText ? 4 : 4;\n        break;\n      case 'inlineCode':\n        formattedText = `\\`${selectedText}\\``;\n        cursorOffset = selectedText ? 1 : 0;\n        break;\n      case 'quote':\n        formattedText = selectedText ? `> ${selectedText}` : `> `;\n        cursorOffset = selectedText ? 2 : 2;\n        break;\n      case 'link':\n        formattedText = `[${selectedText || 'link text'}](https://example.com)`;\n        cursorOffset = selectedText ? 0 : 11;\n        break;\n      case 'image':\n        formattedText = `![${selectedText || 'alt text'}](https://example.com/image.jpg)`;\n        cursorOffset = selectedText ? 0 : 28;\n        break;\n      default:\n        formattedText = selectedText;\n    }\n    const newContent = content.substring(0, start) + formattedText + content.substring(end);\n    setContent(newContent);\n\n    // Focus back on textarea and position cursor\n    setTimeout(() => {\n      textarea.focus();\n      const newCursorPos = start + formattedText.length - (selectedText ? 0 : cursorOffset);\n      textarea.setSelectionRange(newCursorPos, newCursorPos);\n    }, 0);\n  };\n\n  // Handle keyboard shortcuts\n  const handleKeyDown = e => {\n    // Ctrl/Cmd + B for bold\n    if ((e.ctrlKey || e.metaKey) && e.key === 'b') {\n      e.preventDefault();\n      formatText('bold');\n    }\n    // Ctrl/Cmd + I for italic\n    if ((e.ctrlKey || e.metaKey) && e.key === 'i') {\n      e.preventDefault();\n      formatText('italic');\n    }\n    // Ctrl/Cmd + K for code\n    if ((e.ctrlKey || e.metaKey) && e.key === 'k') {\n      e.preventDefault();\n      formatText('inlineCode');\n    }\n  };\n  const toggleFullscreen = () => {\n    if (!document.fullscreenElement) {\n      var _editorRef$current;\n      (_editorRef$current = editorRef.current) === null || _editorRef$current === void 0 ? void 0 : _editorRef$current.requestFullscreen();\n      setIsFullscreen(true);\n    } else {\n      document.exitFullscreen();\n      setIsFullscreen(false);\n    }\n  };\n  const renderPreview = () => {\n    // Simple markdown rendering\n    let preview = content.replace(/^# (.*$)/gim, '<h1 class=\"text-3xl font-bold mb-4\">$1</h1>').replace(/^## (.*$)/gim, '<h2 class=\"text-2xl font-bold mb-3\">$2</h2>').replace(/^### (.*$)/gim, '<h3 class=\"text-xl font-bold mb-2\">$3</h3>').replace(/\\*\\*(.*)\\*\\*/gim, '<strong class=\"font-bold\">$1</strong>').replace(/\\*(.*)\\*/gim, '<em class=\"italic\">$1</em>').replace(/`(.*?)`/g, '<code class=\"bg-gray-100 dark:bg-gray-800 px-1 py-0.5 rounded text-sm font-mono\">$1</code>').replace(/^- (.*$)/gim, '<li class=\"ml-4\">$1</li>').replace(/\\n/g, '<br />');\n    return {\n      __html: preview\n    };\n  };\n\n  // Show loading while auth is initializing OR note is loading\n  if (authLoading || loading && !isNewNote) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center h-64\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1201,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-4 text-gray-500 dark:text-gray-400\",\n          children: authLoading ? 'Checking authentication...' : 'Loading note...'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1202,\n          columnNumber: 11\n        }, this), !authLoading && id && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-sm text-gray-400\",\n          children: [\"Note ID: \", id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1206,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1200,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1199,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-7xl mx-auto px-4 py-8\",\n    ref: editorRef,\n    children: [showPasswordPrompt && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-md shadow-2xl\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center\",\n            children: /*#__PURE__*/_jsxDEV(FaLock, {\n              className: \"text-white text-xl\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1221,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1220,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-bold text-gray-900 dark:text-white\",\n              children: \"Encryption Required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1224,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500 dark:text-gray-400\",\n              children: \"Enter password to encrypt this note\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1225,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1223,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1219,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600 dark:text-gray-300 mb-4\",\n          children: \"This note was created with encryption enabled. Please enter the encryption password to continue.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1229,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          placeholder: \"Enter encryption password\",\n          className: \"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:text-white mb-4\",\n          onKeyPress: e => e.key === 'Enter' && handlePasswordSubmit(),\n          autoFocus: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1233,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowPasswordPrompt(false);\n              setPassword('');\n              alert('Note will be saved without encryption.');\n            },\n            className: \"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\",\n            children: \"Skip Encryption\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1244,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handlePasswordSubmit,\n            className: \"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 font-medium transition-all\",\n            children: \"Set Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1254,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1243,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1218,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1217,\n      columnNumber: 9\n    }, this), showShareModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-2xl shadow-2xl\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-2xl font-bold text-gray-900 dark:text-white\",\n              children: \"Share Note\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1271,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500 dark:text-gray-400 mt-1\",\n              children: [\"Share \\\"\", title || 'Untitled Note', \"\\\" with other users\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1272,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1270,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowShareModal(false),\n            className: \"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg\",\n            children: /*#__PURE__*/_jsxDEV(FaTimes, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1280,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1276,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1269,\n          columnNumber: 13\n        }, this), sharingError && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(FaTimesCircle, {\n              className: \"text-red-500 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1288,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-red-800 dark:text-red-200\",\n              children: sharingError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1289,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1287,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1286,\n          columnNumber: 15\n        }, this), sharingSuccess && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(FaCheckCircle, {\n              className: \"text-green-500 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1297,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-green-800 dark:text-green-200\",\n              children: sharingSuccess\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1298,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1296,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1295,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",\n            children: \"Search users by username or email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1305,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",\n              children: /*#__PURE__*/_jsxDEV(FaSearch, {\n                className: \"h-5 w-5 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1310,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1309,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: searchQuery,\n              onChange: handleSearchChange,\n              placeholder: \"Start typing username or email...\",\n              className: \"pl-10 w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:text-white\",\n              disabled: shareLoading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1312,\n              columnNumber: 17\n            }, this), searchLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-y-0 right-0 pr-3 flex items-center\",\n              children: /*#__PURE__*/_jsxDEV(FaSpinner, {\n                className: \"h-5 w-5 text-gray-400 animate-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1322,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1321,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1308,\n            columnNumber: 15\n          }, this), searchResults.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden\",\n            children: searchResults.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: () => handleAddUser(user),\n              className: \"p-3 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"font-medium text-gray-900 dark:text-white\",\n                    children: user.username\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1338,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-gray-500 dark:text-gray-400\",\n                    children: user.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1341,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1337,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(FaUserPlus, {\n                  className: \"text-blue-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1345,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1336,\n                columnNumber: 23\n              }, this)\n            }, user._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1331,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1329,\n            columnNumber: 17\n          }, this), searchQuery.length >= 2 && !searchLoading && searchResults.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 text-center py-4 text-gray-500 dark:text-gray-400\",\n            children: [\"No users found for \\\"\", searchQuery, \"\\\"\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1353,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1304,\n          columnNumber: 13\n        }, this), selectedUsers.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",\n            children: [\"Selected Users (\", selectedUsers.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1362,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-2\",\n            children: selectedUsers.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"inline-flex items-center gap-2 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 px-3 py-1.5 rounded-full\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm\",\n                children: [user.username, \" (\", user.email, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1371,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleRemoveSelectedUser(user._id),\n                className: \"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300\",\n                disabled: shareLoading,\n                children: /*#__PURE__*/_jsxDEV(FaTimesCircle, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1379,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1374,\n                columnNumber: 23\n              }, this)]\n            }, user._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1367,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1365,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1361,\n          columnNumber: 15\n        }, this), sharedWith.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",\n            children: [\"Already Shared With (\", sharedWith.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1390,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: sharedWith.map(share => {\n              var _share$user, _share$user2;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-900 rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"font-medium text-gray-900 dark:text-white\",\n                    children: ((_share$user = share.user) === null || _share$user === void 0 ? void 0 : _share$user.username) || 'Unknown User'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1400,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-gray-500 dark:text-gray-400\",\n                    children: [((_share$user2 = share.user) === null || _share$user2 === void 0 ? void 0 : _share$user2.email) || 'No email', \" \\u2022 \", share.permission, \" access\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1403,\n                    columnNumber: 25\n                  }, this), share.sharedAt && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-gray-400 dark:text-gray-500 mt-1\",\n                    children: [\"Shared \", new Date(share.sharedAt).toLocaleDateString()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1407,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1399,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleRemoveSharedUser(share.userId),\n                  className: \"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded\",\n                  disabled: shareLoading,\n                  children: /*#__PURE__*/_jsxDEV(FaUserTimes, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1417,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1412,\n                  columnNumber: 23\n                }, this)]\n              }, share.userId, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1395,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1393,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1389,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowShareModal(false),\n            className: \"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\",\n            disabled: shareLoading,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1427,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleShareNote,\n            disabled: selectedUsers.length === 0 || shareLoading,\n            className: \"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 flex items-center gap-2 transition-all\",\n            children: shareLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(FaSpinner, {\n                className: \"animate-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1441,\n                columnNumber: 21\n              }, this), \"Sharing...\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(FaShareAlt, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1446,\n                columnNumber: 21\n              }, this), \"Share Note\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1434,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1426,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1268,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1267,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6 bg-gray-100 dark:bg-gray-800 rounded-xl p-4 border border-gray-300 dark:border-gray-700\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(FaBug, {\n            className: \"text-yellow-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1460,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-medium text-gray-900 dark:text-white\",\n            children: \"Debug Panel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1461,\n            columnNumber: 13\n          }, this), isNewNote && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs rounded\",\n            children: \"Creating New Note\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1463,\n            columnNumber: 15\n          }, this), apiError && !isNewNote && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"px-2 py-1 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 text-xs rounded\",\n            children: [\"API Error: \", apiError.status || 'No Status']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1468,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1459,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: testBackendHealth,\n            className: \"px-3 py-1 bg-green-500 text-white rounded text-sm flex items-center gap-2 hover:bg-green-600\",\n            children: [/*#__PURE__*/_jsxDEV(FaServer, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1478,\n              columnNumber: 15\n            }, this), \"Test Backend\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1474,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: testDirectApiCall,\n            className: \"px-3 py-1 bg-purple-500 text-white rounded text-sm flex items-center gap-2 hover:bg-purple-600\",\n            disabled: isNewNote,\n            title: isNewNote ? \"Cannot test API for new notes\" : \"Test API with current note ID\",\n            children: [/*#__PURE__*/_jsxDEV(FaNetworkWired, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1488,\n              columnNumber: 15\n            }, this), \"Test API Direct\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1482,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: listAllNotes,\n            className: \"px-3 py-1 bg-teal-500 text-white rounded text-sm flex items-center gap-2 hover:bg-teal-600\",\n            children: [/*#__PURE__*/_jsxDEV(FaList, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1495,\n              columnNumber: 15\n            }, this), \"List Notes\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1491,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: debugNoteId,\n            className: \"px-3 py-1 bg-indigo-500 text-white rounded text-sm flex items-center gap-2 hover:bg-indigo-600\",\n            children: [/*#__PURE__*/_jsxDEV(FaDatabase, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1502,\n              columnNumber: 15\n            }, this), \"Debug ID\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1498,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: debugAuth,\n            className: \"px-3 py-1 bg-yellow-500 text-white rounded text-sm flex items-center gap-2 hover:bg-yellow-600\",\n            children: [/*#__PURE__*/_jsxDEV(FaKey, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1509,\n              columnNumber: 15\n            }, this), \"Test Auth\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1505,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              console.log('=== CURRENT STATE DEBUG ===');\n              console.log('Title:', title);\n              console.log('Tags:', tags);\n              console.log('Content length:', content.length);\n              console.log('Location state:', location.state);\n              console.log('Is new note:', isNewNote);\n              console.log('Master key present:', !!masterKey);\n              console.log('useParams id:', id);\n              console.log('Window location:', window.location.href);\n              alert(`Current State:\\n\\nTitle: \"${title}\"\\nTags: \"${tags}\"\\nContent: ${content.length} chars\\nLocation State: ${JSON.stringify(location.state)}\\nIs New Note: ${isNewNote}\\nuseParams id: ${id}\\nURL: ${window.location.href}`);\n            },\n            className: \"px-3 py-1 bg-gray-500 text-white rounded text-sm flex items-center gap-2 hover:bg-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(FaInfoCircle, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1528,\n              columnNumber: 15\n            }, this), \"Current State\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1513,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleCreateNewNote,\n            className: \"px-3 py-1 bg-blue-600 text-white rounded text-sm flex items-center gap-2 hover:bg-blue-700\",\n            children: [/*#__PURE__*/_jsxDEV(FaStickyNote, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1536,\n              columnNumber: 15\n            }, this), \"Force New Note\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1532,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: debugSharing,\n            className: \"px-3 py-1 bg-pink-500 text-white rounded text-sm flex items-center gap-2 hover:bg-pink-600\",\n            children: [/*#__PURE__*/_jsxDEV(FaUserFriends, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1544,\n              columnNumber: 15\n            }, this), \"Debug Sharing\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1540,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: updateDebugInfo,\n            className: \"px-3 py-1 bg-blue-500 text-white rounded text-sm flex items-center gap-2 hover:bg-blue-600\",\n            children: [/*#__PURE__*/_jsxDEV(FaInfoCircle, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1551,\n              columnNumber: 15\n            }, this), \"Refresh\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1547,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              localStorage.clear();\n              window.location.href = '/login';\n            },\n            className: \"px-3 py-1 bg-red-500 text-white rounded text-sm flex items-center gap-2 hover:bg-red-600\",\n            children: [/*#__PURE__*/_jsxDEV(FaExclamationTriangle, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1561,\n              columnNumber: 15\n            }, this), \"Clear & Login\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1554,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1473,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1458,\n        columnNumber: 9\n      }, this), debugInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 md:grid-cols-6 gap-3 text-xs\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-2 bg-white dark:bg-gray-900 rounded\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-gray-500\",\n              children: \"Auth Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1571,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `font-medium ${debugInfo.isAuthenticated ? 'text-green-600' : 'text-red-600'}`,\n              children: debugInfo.isAuthenticated ? 'âœ… Logged In' : 'âŒ Logged Out'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1572,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1570,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-2 bg-white dark:bg-gray-900 rounded\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-gray-500\",\n              children: \"Auth Loading\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1577,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `font-medium ${debugInfo.authLoading ? 'text-yellow-600' : 'text-gray-600'}`,\n              children: debugInfo.authLoading ? 'â³ Loading...' : 'âœ… Ready'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1578,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1576,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-2 bg-white dark:bg-gray-900 rounded\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-gray-500\",\n              children: \"Backend\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1583,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `font-medium ${debugInfo.backendStatus === 'connected' ? 'text-green-600' : debugInfo.backendStatus === 'disconnected' ? 'text-red-600' : 'text-yellow-600'}`,\n              children: debugInfo.backendStatus === 'connected' ? 'âœ… Connected' : debugInfo.backendStatus === 'disconnected' ? 'âŒ Disconnected' : 'âš ï¸ Unknown'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1584,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1582,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-2 bg-white dark:bg-gray-900 rounded\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-gray-500\",\n              children: \"Token\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1590,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `font-medium ${debugInfo.hasToken ? 'text-green-600' : 'text-red-600'}`,\n              children: debugInfo.hasToken ? `âœ… ${debugInfo.tokenLength} chars` : 'âŒ Missing'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1591,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1589,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-2 bg-white dark:bg-gray-900 rounded\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-gray500\",\n              children: \"User\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1596,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-medium truncate\",\n              children: debugInfo.user ? debugInfo.user.email : 'None'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1597,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1595,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-2 bg-white dark:bg-gray-900 rounded\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-gray-500\",\n              children: \"Encryption\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1602,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `font-medium ${debugInfo.masterKey ? 'text-green-600' : 'text-yellow-600'}`,\n              children: debugInfo.masterKey ? 'âœ… Active' : 'âš ï¸ Inactive'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1603,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1601,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1569,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3 bg-white dark:bg-gray-900 rounded border\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",\n              children: \"Note Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1611,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-1 text-xs\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-500\",\n                  children: \"Note ID from useParams:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1614,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-mono truncate\",\n                  children: debugInfo.noteId === undefined ? 'undefined' : debugInfo.noteId\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1615,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1613,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-500\",\n                  children: \"Is New Note:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1620,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: debugInfo.isNewNote ? 'text-green-600 font-medium' : '',\n                  children: debugInfo.isNewNote ? 'âœ… Yes' : 'âŒ No'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1621,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1619,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-500\",\n                  children: \"Valid ObjectId:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1626,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: debugInfo.isValidObjectId ? 'text-green-600' : 'text-gray-500',\n                  children: debugInfo.isNewNote ? 'N/A (New Note)' : debugInfo.isValidObjectId ? 'âœ… Yes' : 'âŒ No'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1627,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1625,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-500\",\n                  children: \"User ID:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1632,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-mono truncate\",\n                  children: ((_debugInfo$user = debugInfo.user) === null || _debugInfo$user === void 0 ? void 0 : _debugInfo$user.id) || 'None'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1633,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1631,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-500\",\n                  children: \"Actual URL:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1636,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-mono truncate\",\n                  children: window.location.href\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1637,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1635,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1612,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1610,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3 bg-white dark:bg-gray-900 rounded border\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",\n              children: \"API Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1643,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-1 text-xs\",\n              children: debugInfo.isNewNote ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-green-600 text-center py-2\",\n                children: [/*#__PURE__*/_jsxDEV(FaCheckCircle, {\n                  className: \"inline mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1647,\n                  columnNumber: 23\n                }, this), \"Creating new note - no API call needed\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1646,\n                columnNumber: 21\n              }, this) : debugInfo.apiResponse ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-500\",\n                    children: \"Response:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1653,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-green-600 font-medium\",\n                    children: \"\\u2705 Received\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1654,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1652,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-500\",\n                    children: \"Note ID:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1657,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-mono truncate\",\n                    children: debugInfo.apiResponse.id\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1658,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1656,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-500\",\n                    children: \"Title:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1661,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"truncate\",\n                    children: debugInfo.apiResponse.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1662,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1660,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true) : debugInfo.apiError ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-500\",\n                    children: \"Status:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1668,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-red-600 font-medium\",\n                    children: [\"\\u274C \", debugInfo.apiError.status || 'Error']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1669,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1667,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-500\",\n                    children: \"Message:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1674,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"truncate text-red-500\",\n                    children: debugInfo.apiError.message\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1675,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1673,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-gray-500 text-center py-2\",\n                children: \"No API call made yet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1679,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1644,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1642,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1609,\n          columnNumber: 13\n        }, this), debugInfo.tokenPreview && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-3 bg-white dark:bg-gray-900 rounded border\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",\n            children: \"Token Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1687,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-mono text-xs bg-gray-50 dark:bg-gray-800 p-2 rounded break-all\",\n            children: debugInfo.tokenPreview\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1688,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1686,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1568,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1457,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: title,\n          onChange: e => setTitle(e.target.value),\n          placeholder: \"Note Title\",\n          className: \"text-3xl font-bold w-full border-0 focus:outline-none focus:ring-0 bg-transparent dark:text-white placeholder-gray-400 dark:placeholder-gray-500\",\n          disabled: !!apiError && !isNewNote\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1700,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: tags,\n            onChange: e => setTags(e.target.value),\n            placeholder: \"Tags (comma separated)\",\n            className: \"text-sm text-gray-600 dark:text-gray-400 w-full border-0 focus:outline-none focus:ring-0 bg-transparent placeholder-gray-400 dark:placeholder-gray-500\",\n            disabled: !!apiError && !isNewNote\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1709,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1708,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1699,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-3\",\n        children: [!isNewNote && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: fetchVersions,\n            className: \"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 flex items-center gap-2 transition-colors text-gray-700 dark:text-gray-300\",\n            disabled: !!apiError,\n            children: [/*#__PURE__*/_jsxDEV(FaHistory, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1727,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"History\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1728,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1722,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: openShareModal,\n            className: \"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 flex items-center gap-2 transition-colors text-gray-700 dark:text-gray-300\",\n            disabled: !!apiError,\n            children: [/*#__PURE__*/_jsxDEV(FaShareAlt, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1735,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Share\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1736,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1730,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: fetchNote,\n            className: \"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 flex items-center gap-2 transition-colors text-gray-700 dark:text-gray-300\",\n            disabled: !!apiError,\n            children: [/*#__PURE__*/_jsxDEV(FaDatabase, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1743,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Reload Note\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1744,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1738,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowPreview(!showPreview),\n          className: \"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 flex items-center gap-2 transition-colors text-gray-700 dark:text-gray-300\",\n          children: [showPreview ? /*#__PURE__*/_jsxDEV(FaEyeSlash, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1752,\n            columnNumber: 28\n          }, this) : /*#__PURE__*/_jsxDEV(FaEye, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1752,\n            columnNumber: 45\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: showPreview ? 'Hide Preview' : 'Show Preview'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1753,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1748,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: toggleFullscreen,\n          className: \"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 flex items-center gap-2 transition-colors text-gray-700 dark:text-gray-300\",\n          children: [isFullscreen ? /*#__PURE__*/_jsxDEV(FaCompress, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1759,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(FaExpand, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1759,\n            columnNumber: 46\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: isFullscreen ? 'Exit Fullscreen' : 'Fullscreen'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1760,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1755,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/'),\n          className: \"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 flex items-center gap-2 transition-colors text-gray-700 dark:text-gray-300\",\n          disabled: authLoading,\n          children: [/*#__PURE__*/_jsxDEV(FaTimes, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1767,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Back to Notes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1768,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1762,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSave,\n          disabled: saving || !isAuthenticated || authLoading || !!apiError && !isNewNote,\n          className: \"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 flex items-center gap-2 transition-all shadow-lg hover:shadow-xl\",\n          children: [/*#__PURE__*/_jsxDEV(FaSave, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1775,\n            columnNumber: 13\n          }, this), saving ? 'Saving...' : 'Save Note']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1770,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1719,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1698,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-shrink-0\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-5 h-5 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-2 h-2 bg-red-600 rounded-full\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1786,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1785,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1784,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ml-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-red-800 dark:text-red-200 font-medium\",\n            children: isNewNote && error.includes('Invalid note ID') ? 'Creating new note... Enter title and content below' : error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1790,\n            columnNumber: 15\n          }, this), (apiError === null || apiError === void 0 ? void 0 : apiError.data) && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-red-600 dark:text-red-300 mt-1\",\n            children: [\"Server error: \", JSON.stringify(apiError.data)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1796,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3 flex gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => navigate('/'),\n              className: \"px-3 py-1 text-xs bg-blue-100 hover:bg-blue-200 text-blue-800 rounded\",\n              children: \"View All Notes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1801,\n              columnNumber: 17\n            }, this), !isNewNote && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => navigate('/note/new'),\n              className: \"px-3 py-1 text-xs bg-green-100 hover:bg-green-200 text-green-800 rounded\",\n              children: \"Create New Note\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1808,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1800,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1789,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1783,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1782,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6 bg-white dark:bg-gray-800 rounded-xl p-5 shadow border border-gray-200 dark:border-gray-700\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col md:flex-row md:items-center justify-between gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: masterKey ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 text-green-600 dark:text-green-400\",\n              children: [/*#__PURE__*/_jsxDEV(FaLock, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1828,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: \"Encryption Active\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1829,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1827,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 text-red-600 dark:text-red-400\",\n              children: [/*#__PURE__*/_jsxDEV(FaKey, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1833,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: \"Not Encrypted\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1834,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1832,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1825,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-600 dark:text-gray-400\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: content.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1839,\n              columnNumber: 15\n            }, this), \" characters \\u2022\", ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: content.trim().split(/\\s+/).filter(Boolean).length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1840,\n              columnNumber: 15\n            }, this), \" words\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1838,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1824,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: isAutoResizing,\n              onChange: e => setIsAutoResizing(e.target.checked),\n              className: \"w-4 h-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1845,\n              columnNumber: 15\n            }, this), \"Auto-resize editor\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1844,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-px h-4 bg-gray-300 dark:bg-gray-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1853,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `text-xs ${isAuthenticated ? 'text-green-600' : 'text-red-600'}`,\n            children: isAuthenticated ? 'âœ… Logged in' : 'âŒ Not logged in'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1854,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-px h-4 bg-gray-300 dark:bg-gray-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1857,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `text-xs ${backendStatus === 'connected' ? 'text-green-600' : 'text-red-600'}`,\n            children: [\"Backend: \", backendStatus === 'connected' ? 'âœ… Connected' : 'âŒ Disconnected']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1858,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1843,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1823,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1822,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6 bg-gradient-to-r from-gray-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 shadow-sm\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap items-center gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm font-semibold text-gray-700 dark:text-gray-300 mr-2\",\n          children: \"Format:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1868,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center bg-white dark:bg-gray-800 rounded-lg p-1 shadow-inner\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => formatText('heading', 1),\n            className: \"px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-1 transition-colors\",\n            title: \"Heading 1\",\n            disabled: !!apiError && !isNewNote,\n            children: [/*#__PURE__*/_jsxDEV(FaHeading, {\n              className: \"text-gray-600 dark:text-gray-400 text-sm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1878,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-medium\",\n              children: \"H1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1879,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1872,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-px h-4 bg-gray-300 dark:bg-gray-600 mx-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1881,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => formatText('heading', 2),\n            className: \"px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-sm\",\n            title: \"Heading 2\",\n            disabled: !!apiError && !isNewNote,\n            children: \"H2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1882,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => formatText('heading', 3),\n            className: \"px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-sm\",\n            title: \"Heading 3\",\n            disabled: !!apiError && !isNewNote,\n            children: \"H3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1890,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1871,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center bg-white dark:bg-gray-800 rounded-lg p-1 shadow-inner\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => formatText('bold'),\n            className: \"w-9 h-9 flex items-center justify-center rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\",\n            title: \"Bold (Ctrl+B)\",\n            disabled: !!apiError && !isNewNote,\n            children: /*#__PURE__*/_jsxDEV(FaBold, {\n              className: \"text-gray-600 dark:text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1908,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1902,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => formatText('italic'),\n            className: \"w-9 h-9 flex items-center justify-center rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\",\n            title: \"Italic (Ctrl+I)\",\n            disabled: !!apiError && !isNewNote,\n            children: /*#__PURE__*/_jsxDEV(FaItalic, {\n              className: \"text-gray-600 dark:text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1916,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1910,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => formatText('underline'),\n            className: \"w-9 h-9 flex items-center justify-center rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\",\n            title: \"Underline\",\n            disabled: !!apiError && !isNewNote,\n            children: /*#__PURE__*/_jsxDEV(FaUnderline, {\n              className: \"text-gray-600 dark:text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1924,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1918,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1901,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center bg-white dark:bg-gray-800 rounded-lg p-1 shadow-inner\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => formatText('bullet'),\n            className: \"w-9 h-9 flex items-center justify-center rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\",\n            title: \"Bullet List\",\n            disabled: !!apiError && !isNewNote,\n            children: /*#__PURE__*/_jsxDEV(FaListUl, {\n              className: \"text-gray-600 dark:text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1936,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1930,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => formatText('numbered'),\n            className: \"w-9 h-9 flex items-center justify-center rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\",\n            title: \"Numbered List\",\n            disabled: !!apiError && !isNewNote,\n            children: /*#__PURE__*/_jsxDEV(FaListOl, {\n              className: \"text-gray-600 dark:text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1944,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1938,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1929,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center bg-white dark:bg-gray-800 rounded-lg p-1 shadow-inner\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => formatText('inlineCode'),\n            className: \"w-9 h-9 flex items-center justify-center rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\",\n            title: \"Inline Code (Ctrl+K)\",\n            disabled: !!apiError && !isNewNote,\n            children: /*#__PURE__*/_jsxDEV(FaCode, {\n              className: \"text-gray-600 dark:text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1956,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1950,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => formatText('code'),\n            className: \"w-9 h-9 flex items-center justify-center rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\",\n            title: \"Code Block\",\n            disabled: !!apiError && !isNewNote,\n            children: /*#__PURE__*/_jsxDEV(FaCode, {\n              className: \"text-lg text-gray-600 dark:text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1964,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1958,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => formatText('quote'),\n            className: \"w-9 h-9 flex items-center justify-center rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\",\n            title: \"Blockquote\",\n            disabled: !!apiError && !isNewNote,\n            children: /*#__PURE__*/_jsxDEV(FaQuoteLeft, {\n              className: \"text-gray-600 dark:text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1972,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1966,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1949,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center bg-white dark:bg-gray-800 rounded-lg p-1 shadow-inner\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => formatText('link'),\n            className: \"w-9 h-9 flex items-center justify-center rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\",\n            title: \"Insert Link\",\n            disabled: !!apiError && !isNewNote,\n            children: /*#__PURE__*/_jsxDEV(FaLink, {\n              className: \"text-gray-600 dark:text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1984,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1978,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => formatText('image'),\n            className: \"w-9 h-9 flex items-center justify-center rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\",\n            title: \"Insert Image\",\n            disabled: !!apiError && !isNewNote,\n            children: /*#__PURE__*/_jsxDEV(FaImage, {\n              className: \"text-gray-600 dark:text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1992,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1986,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1977,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ml-2 text-xs text-gray-500 dark:text-gray-400 hidden md:block\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium\",\n            children: \"Shortcuts:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1998,\n            columnNumber: 13\n          }, this), \" Ctrl+B (Bold) \\u2022 Ctrl+I (Italic) \\u2022 Ctrl+K (Code)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1997,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1867,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1866,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `grid gap-6 ${showPreview ? 'grid-cols-1 lg:grid-cols-2' : 'grid-cols-1'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${showPreview ? 'lg:col-span-1' : 'col-span-1'}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            ref: textareaRef,\n            id: \"note-content\",\n            value: content,\n            onChange: e => setContent(e.target.value),\n            onKeyDown: handleKeyDown,\n            className: \"w-full min-h-[500px] border-2 border-gray-300 dark:border-gray-600 rounded-xl p-6 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-base resize-y transition-all bg-white dark:bg-gray-900 dark:text-white\",\n            placeholder: isNewNote ? \"Start typing your new note here... Use Markdown for formatting: # Headings, **bold**, *italic*, `code`, - lists, etc.\" : apiError ? \"Note failed to load. Check debug panel for details.\" : \"Start typing your note here... Use Markdown for formatting: # Headings, **bold**, *italic*, `code`, - lists, etc.\",\n            style: {\n              lineHeight: '1.6',\n              fontSize: '16px',\n              minHeight: '500px',\n              maxHeight: 'calc(100vh - 300px)'\n            },\n            disabled: !!apiError && !isNewNote\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2008,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute bottom-4 right-4 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-500 dark:text-gray-400 bg-white/80 dark:bg-gray-800/80 px-2 py-1 rounded\",\n              children: [content.length, \"/10000\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2030,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-px h-4 bg-gray-300 dark:bg-gray-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2033,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-500 dark:text-gray-400\",\n              children: [content.trim().split(/\\s+/).filter(Boolean).length, \" words\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2034,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2029,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2007,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2006,\n        columnNumber: 9\n      }, this), showPreview && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-1\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-2 border-gray-300 dark:border-gray-600 rounded-xl p-6 min-h-[500px] bg-white dark:bg-gray-900 overflow-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-4 pb-3 border-b border-gray-200 dark:border-gray-700\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-gray-900 dark:text-white\",\n              children: \"Preview\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2046,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-500 dark:text-gray-400\",\n              children: \"Live Markdown Preview\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2047,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2045,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"prose dark:prose-invert max-w-none markdown-preview\",\n            dangerouslySetInnerHTML: renderPreview()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2051,\n            columnNumber: 15\n          }, this), !content && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-16 text-gray-400 dark:text-gray-500\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4\",\n              children: /*#__PURE__*/_jsxDEV(FaStickyNote, {\n                className: \"text-2xl\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2058,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2057,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Start typing to see the preview...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2060,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2056,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2044,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2043,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2004,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6 p-6 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/10 dark:to-purple-900/10 rounded-xl border border-blue-200 dark:border-blue-800\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"font-bold text-lg text-gray-900 dark:text-white mb-4 flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(FaCode, {\n          className: \"text-blue-600 dark:text-blue-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2071,\n          columnNumber: 11\n        }, this), \"Markdown Quick Reference\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2070,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 md:grid-cols-4 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-mono text-sm mb-1\",\n            children: \"# Heading 1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2076,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-600 dark:text-gray-400\",\n            children: \"Large heading\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2077,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2075,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-mono text-sm mb-1\",\n            children: \"**bold**\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2080,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-600 dark:text-gray-400\",\n            children: \"Bold text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2081,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2079,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-mono text-sm mb-1\",\n            children: \"*italic*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2084,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-600 dark:text-gray-400\",\n            children: \"Italic text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2085,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2083,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-mono text-sm mb-1\",\n            children: \"- item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2088,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-600 dark:text-gray-400\",\n            children: \"Bullet list\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2089,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2087,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-mono text-sm mb-1\",\n            children: \"1. item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2092,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-600 dark:text-gray-400\",\n            children: \"Numbered list\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2093,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2091,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-mono text-sm mb-1\",\n            children: \"`code`\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2096,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-600 dark:text-gray-400\",\n            children: \"Inline code\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2097,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2095,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-mono text-sm mb-1\",\n            children: \"```code```\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-600 dark:text-gray-400\",\n            children: \"Code block\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2101,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2099,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-mono text-sm mb-1\",\n            children: \"[link](url)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2104,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-600 dark:text-gray-400\",\n            children: \"Hyperlink\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2105,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2103,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2074,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2069,\n      columnNumber: 7\n    }, this), showHistory && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-4xl max-h-[80vh] overflow-y-auto shadow-2xl\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-2xl font-bold text-gray-900 dark:text-white\",\n              children: \"Note History\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2116,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500 dark:text-gray-400 mt-1\",\n              children: \"Restore previous versions of this note\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2117,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2115,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowHistory(false),\n            className: \"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg\",\n            children: /*#__PURE__*/_jsxDEV(FaTimes, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2123,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2119,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2114,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: versions.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-12\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4\",\n              children: /*#__PURE__*/_jsxDEV(FaHistory, {\n                className: \"text-2xl text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2130,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2129,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 dark:text-gray-400\",\n              children: \"No previous versions found\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2132,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2128,\n            columnNumber: 17\n          }, this) : versions.map(version => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-5 border border-gray-200 dark:border-gray-700 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col md:flex-row md:items-center justify-between gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-3 mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-full text-sm font-medium\",\n                    children: [\"Version \", version.version]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2143,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-gray-500 dark:text-gray-400\",\n                    children: new Date(version.savedAt).toLocaleString()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2146,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2142,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-900 p-3 rounded-lg font-mono overflow-auto max-h-24\",\n                  children: [version.content.substring(0, 300), version.content.length > 300 && '...']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2150,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2141,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleRestoreVersion(version.version),\n                className: \"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 font-medium transition-all whitespace-nowrap\",\n                children: \"Restore This Version\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2155,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2140,\n              columnNumber: 21\n            }, this)\n          }, version.version, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2136,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2126,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2113,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2112,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1214,\n    columnNumber: 5\n  }, this);\n};\n_s(NoteEditor, \"j1JOkaT6BWoItUBevJkYt9VkjfY=\", false, function () {\n  return [useParams, useNavigate, useLocation, useCrypto, useAuth];\n});\n_c = NoteEditor;\nexport default NoteEditor;\nvar _c;\n$RefreshReg$(_c, \"NoteEditor\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useParams","useNavigate","useLocation","FaSave","FaTimes","FaHistory","FaLock","FaKey","FaBold","FaItalic","FaUnderline","FaListUl","FaListOl","FaHeading","FaCode","FaLink","FaImage","FaQuoteLeft","FaEye","FaEyeSlash","FaExpand","FaCompress","FaBug","FaStickyNote","FaInfoCircle","FaExclamationTriangle","FaDatabase","FaServer","FaNetworkWired","FaList","FaCheckCircle","FaExclamationCircle","FaUserPlus","FaShareAlt","FaUserFriends","FaSearch","FaUserCheck","FaUserTimes","FaEnvelope","FaSpinner","FaTimesCircle","api","useCrypto","useAuth","encryptNote","decryptNote","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","NoteEditor","_s","_debugInfo$user","id","navigate","location","isNewNote","undefined","title","setTitle","content","setContent","tags","setTags","loading","setLoading","saving","setSaving","error","setError","showHistory","setShowHistory","versions","setVersions","isAutoResizing","setIsAutoResizing","isFullscreen","setIsFullscreen","showPreview","setShowPreview","debugInfo","setDebugInfo","apiResponse","setApiResponse","apiError","setApiError","backendStatus","setBackendStatus","showPasswordPrompt","setShowPasswordPrompt","password","setPassword","showShareModal","setShowShareModal","searchQuery","setSearchQuery","searchResults","setSearchResults","selectedUsers","setSelectedUsers","searchLoading","setSearchLoading","sharedWith","setSharedWith","sharingError","setSharingError","sharingSuccess","setSharingSuccess","shareLoading","setShareLoading","textareaRef","editorRef","searchTimeoutRef","masterKey","encrypt","decrypt","deriveKeyFromPassword","user","isAuthenticated","logout","authLoading","console","log","window","pathname","href","search","state","pathParts","split","lastPart","length","prefillTitle","prefillTags","join","shouldEncrypt","encryptionPassword","derivedKey","alert","test","_id","localStorage","getItem","JSON","stringify","defaults","headers","common","updateDebugInfo","checkBackendStatus","email","fetchNote","resizeTextarea","current","style","height","newHeight","Math","max","scrollHeight","response","get","timeout","warn","message","handlePasswordSubmit","trim","debugNoteId","info","idFromParams","type","fullURL","isValidObjectId","testDirectApiCall","token","substring","Error","data","ownerId","_error$response","_error$response2","_error$response3","errorDetails","status","statusText","code","errorMessage","testBackendHealth","endpoints","url","name","success","workingEndpoint","endpoint","includes","err","_err$response","listAllNotes","forEach","note","index","_note$tags","Date","createdAt","toLocaleDateString","_error$response4","errorMsg","_note$tags2","_note$tags3","getNote","hasContent","isEncrypted","tagsCount","encryptionMetadata","decryptedContent","iv","decryptError","_error$response5","_error$response6","_error$response7","_error$response8","_error$config","_error$config2","_error$config3","_error$response9","_error$response0","_error$response1","_error$response10","_error$response11","_error$response12","_error$message","_error$message2","config","method","fetchVersions","getNoteVersions","timestamp","toISOString","hasId","hasToken","tokenLength","tokenPreview","noteId","hasData","debugAuth","_error$response13","_error$response14","_error$response15","_error$response15$dat","handleCreateNewNote","replace","searchUsers","query","filteredResults","filter","some","selected","shared","userId","_error$response16","_error$response16$dat","handleSearchChange","e","target","value","clearTimeout","setTimeout","handleAddUser","u","handleRemoveSelectedUser","handleRemoveSharedUser","removeShare","share","_error$response17","_error$response17$dat","handleShareNote","sharePromises","map","shareData","permission","shareNote","results","Promise","all","newSharedUsers","sharedAt","username","_error$response18","_error$response19","_error$response20","_error$response20$dat","fetchSharedWith","getNoteSharedWith","_error$response21","_error$response22","openShareModal","debugSharing","_error$response23","testShareData","_error$response24","_error$response25","handleSave","tagsArray","tag","noteData","encrypted","ciphertext","algorithm","salt","encryptError","createNote","updateNote","_error$response26","_error$response27","_error$config4","_error$config5","_error$response28","_error$response29","_error$response30","removeItem","_error$response31","_error$response31$dat","handleRestoreVersion","version","confirm","restoreVersion","formatText","command","textarea","start","selectionStart","end","selectionEnd","selectedText","formattedText","cursorOffset","level","repeat","newContent","focus","newCursorPos","setSelectionRange","handleKeyDown","ctrlKey","metaKey","key","preventDefault","toggleFullscreen","document","fullscreenElement","_editorRef$current","requestFullscreen","exitFullscreen","renderPreview","preview","__html","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","onChange","placeholder","onKeyPress","autoFocus","onClick","size","disabled","_share$user","_share$user2","clear","Boolean","checked","onKeyDown","lineHeight","fontSize","minHeight","maxHeight","dangerouslySetInnerHTML","savedAt","toLocaleString","_c","$RefreshReg$"],"sources":["/Users/anshagrawal/Desktop/umb/frontend/src/pages/NoteEditor.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useParams, useNavigate, useLocation } from 'react-router-dom';\nimport { \n  FaSave, FaTimes, FaHistory, FaLock, FaKey, \n  FaBold, FaItalic, FaUnderline, FaListUl, FaListOl,\n  FaHeading, FaCode, FaLink, FaImage, FaQuoteLeft,\n  FaEye, FaEyeSlash, FaExpand, FaCompress, FaBug,\n  FaStickyNote, FaInfoCircle, FaExclamationTriangle,\n  FaDatabase, FaServer, FaNetworkWired, FaList,\n  FaCheckCircle, FaExclamationCircle,\n  FaUserPlus, FaShareAlt, FaUserFriends, FaSearch, \n  FaUserCheck, FaUserTimes, FaEnvelope, FaSpinner,\n  FaTimesCircle\n} from 'react-icons/fa';\nimport api from '../services/api';\nimport { useCrypto } from '../contexts/CryptoContext';\nimport { useAuth } from '../contexts/AuthContext';\nimport { encryptNote, decryptNote } from '../utils/cryptoUtils';\nimport axios from 'axios';\n\nconst NoteEditor = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n  \n  // CRITICAL FIX: Handle the case where id is undefined\n  // If id is undefined, we're definitely creating a new note\n  const isNewNote = id === 'new' || id === undefined;\n  \n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n  const [tags, setTags] = useState('');\n  const [loading, setLoading] = useState(!isNewNote);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState('');\n  const [showHistory, setShowHistory] = useState(false);\n  const [versions, setVersions] = useState([]);\n  const [isAutoResizing, setIsAutoResizing] = useState(true);\n  const [isFullscreen, setIsFullscreen] = useState(false);\n  const [showPreview, setShowPreview] = useState(false);\n  const [debugInfo, setDebugInfo] = useState(null);\n  const [apiResponse, setApiResponse] = useState(null);\n  const [apiError, setApiError] = useState(null);\n  const [backendStatus, setBackendStatus] = useState('unknown');\n  const [showPasswordPrompt, setShowPasswordPrompt] = useState(false);\n  const [password, setPassword] = useState('');\n  \n  // Sharing states\n  const [showShareModal, setShowShareModal] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [selectedUsers, setSelectedUsers] = useState([]);\n  const [searchLoading, setSearchLoading] = useState(false);\n  const [sharedWith, setSharedWith] = useState([]);\n  const [sharingError, setSharingError] = useState('');\n  const [sharingSuccess, setSharingSuccess] = useState('');\n  const [shareLoading, setShareLoading] = useState(false);\n  \n  const textareaRef = useRef(null);\n  const editorRef = useRef(null);\n  const searchTimeoutRef = useRef(null);\n  const { masterKey, encrypt, decrypt, deriveKeyFromPassword } = useCrypto();\n  const { user, isAuthenticated, logout, loading: authLoading } = useAuth();\n\n  // ========== CRITICAL DEBUGGING ==========\n  useEffect(() => {\n    console.log('=== URL DEBUGGING ===');\n    console.log('useParams() id:', id);\n    console.log('Type of id:', typeof id);\n    console.log('isNewNote calculation:', id === 'new' || id === undefined);\n    console.log('Window location pathname:', window.location.pathname);\n    console.log('Window location href:', window.location.href);\n    console.log('useLocation() pathname:', location.pathname);\n    console.log('useLocation() search:', location.search);\n    console.log('useLocation() state:', location.state);\n    \n    // If id is undefined but URL is /note/new, fix it manually\n    if (id === undefined && window.location.pathname === '/note/new') {\n      console.log('âš ï¸ FIXING: id is undefined but URL is /note/new');\n      console.log('âœ… Manually treating as new note');\n    }\n    \n    // Check route params more carefully\n    const pathParts = window.location.pathname.split('/');\n    console.log('Path parts:', pathParts);\n    console.log('Expected note ID from path:', pathParts[2]);\n  }, [id, location]);\n\n  // ========== ROUTING FIX ==========\n  // If id is undefined, check if we should be at /note/new\n  useEffect(() => {\n    if (id === undefined) {\n      console.log('âš ï¸ NoteEditor: id is undefined from useParams()');\n      console.log('ðŸ” Checking current URL:', window.location.pathname);\n      \n      const pathParts = window.location.pathname.split('/');\n      const lastPart = pathParts[pathParts.length - 1];\n      \n      console.log('Last part of URL:', lastPart);\n      \n      // If we're at /note (without an ID), redirect to /note/new\n      if (window.location.pathname === '/note') {\n        console.log('ðŸ” Found /note without ID, redirecting to /note/new');\n        navigate('/note/new', { state: location.state || {} });\n        return;\n      }\n      \n      // If we're at /note/ but the ID is empty\n      if (lastPart === '' && pathParts[pathParts.length - 2] === 'note') {\n        console.log('ðŸ” Found /note/ (trailing slash), redirecting to /note/new');\n        navigate('/note/new', { state: location.state || {} });\n        return;\n      }\n      \n      // If we're at /note/new but id is undefined (shouldn't happen with proper routing)\n      if (window.location.pathname === '/note/new') {\n        console.log('âœ… Already at /note/new, continuing with new note creation');\n        // This is okay, we'll treat it as a new note\n      }\n    }\n  }, [id, navigate, location.state, location.pathname]);\n\n  // Handle prefilled data for new notes - UPDATED\n  useEffect(() => {\n    console.log('ðŸ” NoteEditor: Checking for prefilled data...');\n    console.log('ðŸ” isNewNote:', isNewNote);\n    console.log('ðŸ” location.state:', location.state);\n    \n    if (isNewNote) {\n      if (location.state) {\n        console.log('ðŸ” NoteEditor: Received prefilled data from Dashboard:', location.state);\n        \n        // Only set title if it's not already set\n        if (location.state.prefillTitle && !title) {\n          console.log('ðŸ” Setting title to:', location.state.prefillTitle);\n          setTitle(location.state.prefillTitle);\n        }\n        \n        if (location.state.prefillTags && location.state.prefillTags.length > 0 && !tags) {\n          console.log('ðŸ” Setting tags to:', location.state.prefillTags);\n          setTags(location.state.prefillTags.join(', '));\n        }\n        \n        // Handle encryption if needed\n        if (location.state.shouldEncrypt && !masterKey && location.state.encryptionPassword) {\n          console.log('ðŸ” Note should be encrypted, setting master key...');\n          try {\n            const derivedKey = deriveKeyFromPassword(location.state.encryptionPassword, 'master-salt');\n            // In a real app, you would set this in the crypto context\n            console.log('ðŸ” Derived key created');\n            alert('Encryption enabled for this note');\n          } catch (error) {\n            console.error('Failed to set encryption key:', error);\n          }\n        }\n      } else {\n        console.log('ðŸ” No prefilled data found - creating empty note');\n      }\n    }\n  }, [isNewNote, location.state, masterKey]);\n\n  // Add debugging to see what's happening\n  useEffect(() => {\n    console.log('ðŸ” DEBUG - Current component state:');\n    console.log('  Title:', title);\n    console.log('  Tags:', tags);\n    console.log('  Content length:', content.length);\n    console.log('  isNewNote:', isNewNote);\n    console.log('  Note ID from URL:', id);\n    console.log('  Full URL:', window.location.href);\n    console.log('  Location state:', location.state);\n    \n    // Check if we're on the wrong URL\n    if (id !== 'new' && id !== undefined && !/^[0-9a-fA-F]{24}$/.test(id)) {\n      console.error('âŒ ERROR: Invalid note ID in URL! Expected \"new\" or valid ObjectId');\n      console.error('âŒ Current ID:', id);\n      alert(`Wrong URL! You should be at /note/new but you're at /note/${id}\\n\\nGo back and create a note again.`);\n    }\n  }, [title, tags, content, isNewNote, id, location.state]);\n\n  // Debug: Log authentication state\n  useEffect(() => {\n    console.log('ðŸ” NoteEditor: Component mounted');\n    console.log('ðŸ” NoteEditor: isAuthenticated:', isAuthenticated);\n    console.log('ðŸ” NoteEditor: User:', user);\n    console.log('ðŸ” NoteEditor: User ID:', user?._id);\n    console.log('ðŸ” NoteEditor: Token in localStorage:', localStorage.getItem('token') ? 'Present' : 'Missing');\n    console.log('ðŸ” NoteEditor: Auth loading:', authLoading);\n    console.log('ðŸ” NoteEditor: Note ID from URL:', id);\n    console.log('ðŸ” NoteEditor: Is new note?', isNewNote);\n    console.log('ðŸ” NoteEditor: Note ID type:', typeof id);\n    console.log('ðŸ” NoteEditor: Note ID value:', JSON.stringify(id));\n    \n    // Check axios headers\n    console.log('ðŸ” NoteEditor: Axios headers:', axios.defaults.headers.common);\n    \n    // Update debug info\n    updateDebugInfo();\n    \n    // Check backend status\n    checkBackendStatus();\n  }, [isAuthenticated, user, authLoading, id, isNewNote]);\n\n  useEffect(() => {\n    // Debug: Show current state\n    console.log('=== NOTE EDITOR AUTH CHECK ===');\n    console.log('authLoading:', authLoading);\n    console.log('isAuthenticated:', isAuthenticated);\n    console.log('isNewNote:', isNewNote);\n    console.log('Note ID:', id);\n    console.log('Note ID type:', typeof id);\n    \n    // Wait for auth to finish loading\n    if (authLoading) {\n      console.log('ðŸ” NoteEditor: Auth still loading, waiting...');\n      return;\n    }\n\n    // Check authentication\n    if (!isAuthenticated) {\n      console.log('ðŸ” NoteEditor: User not authenticated, redirecting to login');\n      setError('Please log in to create or edit notes');\n      navigate('/login');\n      return;\n    }\n\n    console.log('ðŸ” NoteEditor: User authenticated, proceeding...');\n    console.log('ðŸ” NoteEditor: User details:', {\n      id: user?._id,\n      email: user?.email\n    });\n    \n    if (!isNewNote) {\n      fetchNote();\n    } else {\n      setLoading(false);\n    }\n  }, [id, isAuthenticated, navigate, authLoading, isNewNote, user]);\n\n  // Auto-resize textarea based on content\n  const resizeTextarea = () => {\n    if (textareaRef.current && isAutoResizing) {\n      textareaRef.current.style.height = 'auto';\n      const newHeight = Math.max(400, textareaRef.current.scrollHeight);\n      textareaRef.current.style.height = `${newHeight}px`;\n    }\n  };\n\n  useEffect(() => {\n    resizeTextarea();\n  }, [content]);\n\n  // Check backend status\n  const checkBackendStatus = async () => {\n    try {\n      // Try to ping the backend\n      const response = await axios.get('http://localhost:5000/', {\n        timeout: 2000\n      });\n      setBackendStatus('connected');\n      console.log('âœ… Backend is connected');\n    } catch (error) {\n      setBackendStatus('disconnected');\n      console.warn('âš ï¸ Backend connection check failed:', error.message);\n    }\n  };\n\n  // Handle password prompt for encryption\n  const handlePasswordSubmit = () => {\n    if (!password.trim()) {\n      alert('Please enter a password');\n      return;\n    }\n    \n    try {\n      const derivedKey = deriveKeyFromPassword(password, 'master-salt');\n      // In a real app, you would set this in the crypto context\n      console.log('ðŸ” Password set for encryption');\n      setShowPasswordPrompt(false);\n      setPassword('');\n      alert('Encryption password set. Your note will be encrypted when saved.');\n    } catch (error) {\n      console.error('Failed to set encryption password:', error);\n      alert('Failed to set encryption password');\n    }\n  };\n\n  // Debug function to check note ID\n  const debugNoteId = () => {\n    const info = {\n      idFromParams: id,\n      type: typeof id,\n      length: id?.length,\n      isNewNote: id === 'new' || id === undefined,\n      fullURL: window.location.href,\n      pathname: window.location.pathname,\n      isValidObjectId: id && id !== 'new' && id !== undefined ? /^[0-9a-fA-F]{24}$/.test(id) : false\n    };\n    \n    console.log('ðŸ” Debug Note ID:', info);\n    \n    alert(`Note ID Debug:\\n\\n` +\n          `ID from useParams(): \"${id}\"\\n` +\n          `Type: ${typeof id}\\n` +\n          `Length: ${id?.length}\\n` +\n          `Is new note? ${info.isNewNote ? 'âœ… Yes' : 'âŒ No'}\\n` +\n          `Valid ObjectId? ${info.isValidObjectId ? 'âœ… Yes' : 'âŒ No'}\\n` +\n          `Full URL: ${window.location.href}\\n` +\n          `Pathname: ${window.location.pathname}\\n` +\n          `Expected note ID from path: ${window.location.pathname.split('/')[2]}`);\n  };\n\n  // Test API call directly (bypassing the api service)\n  const testDirectApiCall = async () => {\n    try {\n      setApiError(null);\n      setApiResponse(null);\n      \n      const token = localStorage.getItem('token');\n      console.log('ðŸ” Direct API Test:');\n      console.log('Token:', token ? `${token.substring(0, 20)}...` : 'Missing');\n      console.log('Note ID:', id);\n      console.log('User ID:', user?._id);\n      \n      if (!token) {\n        throw new Error('No token found in localStorage');\n      }\n      \n      // Better validation for note ID\n      if (!id || id === 'new' || id === 'undefined' || id === 'null' || id === undefined) {\n        throw new Error(`Cannot test API: This is a new note (ID: \"${id}\"). Create a note first, then edit it.`);\n      }\n      \n      // Check if ID looks like a MongoDB ObjectId (24 hex characters)\n      const isValidObjectId = /^[0-9a-fA-F]{24}$/.test(id);\n      if (!isValidObjectId) {\n        throw new Error(`Invalid note ID format: \"${id}\". Expected 24-character hex string. Visit /notes to see your notes.`);\n      }\n      \n      console.log('ðŸ” Making direct API call to:', `http://localhost:5000/api/notes/${id}`);\n      \n      const response = await axios.get(`http://localhost:5000/api/notes/${id}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        timeout: 5000\n      });\n      \n      console.log('âœ… Direct API Success:', response.data);\n      setApiResponse(response.data);\n      \n      alert(`âœ… Direct API call successful!\\n\\nTitle: ${response.data.title}\\nID: ${response.data._id}\\nOwner: ${response.data.ownerId}`);\n      \n      return response.data;\n    } catch (error) {\n      const errorDetails = {\n        status: error.response?.status,\n        statusText: error.response?.statusText,\n        data: error.response?.data,\n        message: error.message,\n        code: error.code\n      };\n      \n      console.error('âŒ Direct API Error:', errorDetails);\n      setApiError(errorDetails);\n      \n      let errorMessage = `Direct API test failed:\\n\\n`;\n      errorMessage += `Status: ${errorDetails.status || 'No response'}\\n`;\n      errorMessage += `Message: ${errorDetails.message}\\n`;\n      \n      if (errorDetails.data) {\n        errorMessage += `Error: ${JSON.stringify(errorDetails.data, null, 2)}\\n`;\n      }\n      \n      if (errorDetails.status === 404) {\n        errorMessage += `\\nðŸ’¡ Tip: This note doesn't exist or you don't have access. Visit /notes to see your notes.`;\n      } else if (errorDetails.code === 'ECONNREFUSED') {\n        errorMessage += `\\nðŸ’¡ Tip: Backend server is not running on port 5000. Start it with: cd backend && npm start`;\n      }\n      \n      alert(errorMessage);\n      \n      return null;\n    }\n  };\n\n  // Test backend connectivity\n  const testBackendHealth = async () => {\n    try {\n      console.log('ðŸ” Testing backend health...');\n      \n      // Try multiple endpoints to see what works\n      const endpoints = [\n        { url: 'http://localhost:5000/', name: 'Root' },\n        { url: 'http://localhost:5000/api/auth/me', name: 'Auth Check' },\n        { url: 'http://localhost:5000/api/notes', name: 'Notes List' }\n      ];\n      \n      let success = false;\n      let errorMessage = '';\n      let workingEndpoint = null;\n      \n      for (const endpoint of endpoints) {\n        try {\n          console.log(`Trying ${endpoint.name} (${endpoint.url})...`);\n          const response = await axios.get(endpoint.url, {\n            timeout: 2000,\n            headers: endpoint.url.includes('/auth/me') && localStorage.getItem('token') ? {\n              'Authorization': `Bearer ${localStorage.getItem('token')}`\n            } : {}\n          });\n          console.log(`âœ… ${endpoint.name} responded:`, response.status);\n          success = true;\n          workingEndpoint = endpoint;\n          break;\n        } catch (err) {\n          errorMessage = err.message;\n          console.log(`âŒ ${endpoint.name} failed:`, err.message);\n          \n          // If it's a 401, backend is running but token is invalid\n          if (err.response?.status === 401) {\n            success = true;\n            workingEndpoint = endpoint;\n            errorMessage = 'Backend is running but token is invalid/expired';\n            break;\n          }\n        }\n      }\n      \n      if (success) {\n        setBackendStatus('connected');\n        if (workingEndpoint) {\n          alert(`âœ… Backend is running!\\n\\nEndpoint: ${workingEndpoint.name}\\nURL: ${workingEndpoint.url}\\n\\nStatus: Connected`);\n        }\n      } else {\n        setBackendStatus('disconnected');\n        throw new Error(`All endpoints failed. Last error: ${errorMessage}`);\n      }\n    } catch (error) {\n      console.error('âŒ Backend health check failed:', error.message);\n      setBackendStatus('disconnected');\n      alert(`âŒ Cannot connect to backend:\\n\\n${error.message}\\n\\nMake sure:\\n1. Backend server is running on port 5000\\n2. Run: cd backend && npm start\\n3. Check if port 5000 is available`);\n    }\n  };\n\n  // List all notes to see what's available\n  const listAllNotes = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        alert('âŒ No token found. Please log in first.');\n        return;\n      }\n      \n      console.log('ðŸ” Listing all notes...');\n      const response = await axios.get('http://localhost:5000/api/notes', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        },\n        timeout: 5000\n      });\n      \n      console.log('âœ… Notes list:', response.data);\n      \n      if (response.data.length === 0) {\n        alert('ðŸ“ No notes found. Create a new note first!');\n        return;\n      }\n      \n      let message = `ðŸ“š Found ${response.data.length} notes:\\n\\n`;\n      response.data.forEach((note, index) => {\n        message += `${index + 1}. ${note.title || 'Untitled'} \\n`;\n        message += `   ID: ${note._id}\\n`;\n        message += `   Created: ${new Date(note.createdAt).toLocaleDateString()}\\n`;\n        message += `   Tags: ${note.tags?.join(', ') || 'None'}\\n\\n`;\n      });\n      \n      message += `\\nðŸ’¡ Tip: Copy a note ID and visit /note/[id] to edit it.`;\n      \n      alert(message);\n    } catch (error) {\n      console.error('âŒ Failed to list notes:', error);\n      let errorMsg = `Failed to list notes:\\n\\n${error.message}`;\n      if (error.response?.status === 401) {\n        errorMsg += '\\n\\nYour session may have expired. Please log in again.';\n      } else if (error.code === 'ECONNREFUSED') {\n        errorMsg += '\\n\\nBackend server is not running. Start it with: cd backend && npm start';\n      }\n      alert(errorMsg);\n    }\n  };\n\n  const fetchNote = async () => {\n    try {\n      // If it's a new note, don't try to fetch\n      if (isNewNote) {\n        setLoading(false);\n        return;\n      }\n      \n      setLoading(true);\n      setError('');\n      setApiError(null);\n      setApiResponse(null);\n      \n      console.log('ðŸ” NoteEditor: Fetching note with ID:', id);\n      console.log('ðŸ” NoteEditor: User ID:', user?._id);\n      \n      // Check if ID is literally \"undefined\" string\n      if (id === \"undefined\") {\n        const errorMsg = 'Invalid note URL. The note ID is missing. Go to /notes to see your notes or /note/new to create one.';\n        console.error('ðŸ” NoteEditor:', errorMsg);\n        setError(errorMsg);\n        setLoading(false);\n        return;\n      }\n      \n      // Validate ID format\n      if (!id || !/^[0-9a-fA-F]{24}$/.test(id)) {\n        const errorMsg = `Invalid note ID format: \"${id}\". Expected 24-character hex string. Visit /notes to see your notes.`;\n        console.error('ðŸ” NoteEditor:', errorMsg);\n        setError(errorMsg);\n        throw new Error(errorMsg);\n      }\n      \n      console.log('ðŸ” NoteEditor: Using api.getNote() service...');\n      \n      const response = await api.getNote(id);\n      console.log('ðŸ” NoteEditor: Note fetched successfully:', response.data);\n      \n      const note = response.data;\n      setApiResponse(note);\n      \n      // Check if note is actually returned\n      if (!note) {\n        const errorMsg = 'Note not found in response (null/undefined)';\n        console.error('ðŸ” NoteEditor:', errorMsg);\n        setError(errorMsg);\n        throw new Error(errorMsg);\n      }\n      \n      console.log('ðŸ” NoteEditor: Note details:', {\n        id: note._id,\n        title: note.title,\n        ownerId: note.ownerId,\n        hasContent: !!note.content,\n        isEncrypted: note.isEncrypted,\n        tagsCount: note.tags?.length || 0\n      });\n      \n      setTitle(note.title || '');\n      setTags(note.tags?.join(', ') || '');\n      \n      // Decrypt content if we have the master key\n      if (masterKey && note.isEncrypted && note.encryptionMetadata) {\n        try {\n          console.log('ðŸ” NoteEditor: Attempting to decrypt note content');\n          const decryptedContent = decryptNote(\n            note.content,\n            masterKey,\n            note.encryptionMetadata.iv\n          );\n          setContent(decryptedContent);\n          console.log('ðŸ” NoteEditor: Note decrypted successfully');\n        } catch (decryptError) {\n          console.error('ðŸ” NoteEditor: Decryption failed:', decryptError);\n          setError('Failed to decrypt note. Check your master password.');\n          setContent('[Encrypted - Enter master password to view]');\n        }\n      } else {\n        setContent(note.content || '');\n      }\n    } catch (error) {\n      console.error('ðŸ” NoteEditor: Failed to fetch note:', {\n        message: error.message,\n        response: error.response?.data,\n        status: error.response?.status,\n        statusText: error.response?.statusText,\n        headers: error.response?.headers,\n        config: {\n          url: error.config?.url,\n          method: error.config?.method,\n          headers: error.config?.headers\n        }\n      });\n      \n      setApiError({\n        status: error.response?.status,\n        statusText: error.response?.statusText,\n        data: error.response?.data,\n        message: error.message\n      });\n      \n      if (error.response?.status === 401) {\n        setError('Session expired. Please log in again.');\n        logout();\n        navigate('/login');\n      } else if (error.response?.status === 404) {\n        setError(`Note not found (ID: ${id}). It may have been deleted or you don't have access. Visit /notes to see your notes.`);\n      } else if (error.response?.status === 500) {\n        setError('Server error (500). Please check backend logs and make sure MongoDB is running.');\n      } else if (error.code === 'ECONNREFUSED') {\n        setError('Cannot connect to backend server. Make sure it\\'s running on http://localhost:5000');\n      } else if (error.message?.includes('Network Error')) {\n        setError('Network error. Check your internet connection and backend server.');\n      } else if (error.message?.includes('Invalid note ID format')) {\n        setError(error.message);\n      } else {\n        setError(`Failed to load note: ${error.message || 'Unknown error'}`);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchVersions = async () => {\n    try {\n      const response = await api.getNoteVersions(id);\n      setVersions(response.data.versions);\n      setShowHistory(true);\n    } catch (error) {\n      console.error('Failed to fetch versions:', error);\n    }\n  };\n\n  const updateDebugInfo = async () => {\n    const token = localStorage.getItem('token');\n    const info = {\n      timestamp: new Date().toISOString(),\n      authLoading,\n      isAuthenticated,\n      user: user ? { \n        email: user.email, \n        id: user._id || user.id,\n        hasId: !!(user._id || user.id)\n      } : null,\n      hasToken: !!token,\n      tokenLength: token?.length || 0,\n      tokenPreview: token ? `${token.substring(0, 10)}...${token.substring(token.length - 10)}` : null,\n      masterKey: !!masterKey,\n      noteId: id,\n      isNewNote,\n      isValidObjectId: id && id !== 'new' && id !== undefined ? /^[0-9a-fA-F]{24}$/.test(id) : false,\n      backendStatus,\n      apiResponse: apiResponse ? {\n        hasData: true,\n        id: apiResponse._id,\n        title: apiResponse.title,\n        ownerId: apiResponse.ownerId\n      } : null,\n      apiError: apiError ? {\n        status: apiError.status,\n        message: apiError.message\n      } : null\n    };\n    \n    setDebugInfo(info);\n    console.log('ðŸ” Debug Info Updated:', info);\n  };\n\n  const debugAuth = async () => {\n    console.log('=== DEBUG AUTHENTICATION ===');\n    console.log('1. LocalStorage token:', localStorage.getItem('token'));\n    console.log('2. isAuthenticated:', isAuthenticated);\n    console.log('3. User:', user);\n    console.log('4. User ID:', user?._id);\n    console.log('5. Axios headers:', axios.defaults.headers.common);\n    console.log('6. Auth loading:', authLoading);\n    \n    const token = localStorage.getItem('token');\n    if (!token) {\n      console.log('ERROR: No token in localStorage');\n      alert('âŒ No token found. Please log in again.');\n      return;\n    }\n    \n    try {\n      console.log('Testing token with backend...');\n      const response = await axios.get('http://localhost:5000/api/auth/me', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      console.log('âœ… Token is valid:', response.data);\n      alert('âœ… Token is valid!\\n\\nUser: ' + response.data.user.email + '\\nID: ' + response.data.user._id);\n    } catch (error) {\n      console.error('âŒ Token test failed:', {\n        status: error.response?.status,\n        message: error.message,\n        data: error.response?.data\n      });\n      alert('âŒ Token validation failed: ' + (error.response?.data?.error || error.message));\n    }\n  };\n\n  // ========== FIX: Handle navigation from Dashboard ==========\n  const handleCreateNewNote = () => {\n    console.log('ðŸ” Creating new note manually...');\n    console.log('ðŸ” Current URL:', window.location.href);\n    console.log('ðŸ” Current pathname:', window.location.pathname);\n    \n    // Force navigation to /note/new with state\n    navigate('/note/new', { \n      state: location.state || {},\n      replace: true // Replace current history entry\n    });\n  };\n\n  // ========== SHARING FUNCTIONS ==========\n  const searchUsers = async (query) => {\n    if (query.length < 2) {\n      setSearchResults([]);\n      return;\n    }\n    \n    setSearchLoading(true);\n    setSharingError('');\n    \n    try {\n      console.log('ðŸ” Searching users with query:', query);\n      \n      const response = await api.searchUsers(query);\n      console.log('âœ… Search results:', response.data);\n      \n      // Filter out users already selected or already shared with\n      const filteredResults = response.data.filter(user => \n        !selectedUsers.some(selected => selected._id === user._id) &&\n        !sharedWith.some(shared => shared.userId === user._id)\n      );\n      \n      setSearchResults(filteredResults);\n    } catch (error) {\n      console.error('âŒ User search failed:', error);\n      setSharingError('Failed to search users: ' + (error.response?.data?.error || error.message));\n      setSearchResults([]);\n    } finally {\n      setSearchLoading(false);\n    }\n  };\n\n  const handleSearchChange = (e) => {\n    const query = e.target.value;\n    setSearchQuery(query);\n    \n    // Clear previous timeout\n    if (searchTimeoutRef.current) {\n      clearTimeout(searchTimeoutRef.current);\n    }\n    \n    // Debounce search (wait 500ms after user stops typing)\n    searchTimeoutRef.current = setTimeout(() => {\n      searchUsers(query);\n    }, 500);\n  };\n\n  const handleAddUser = (user) => {\n    // Check if user is already selected\n    if (!selectedUsers.some(u => u._id === user._id)) {\n      setSelectedUsers([...selectedUsers, user]);\n      setSearchQuery('');\n      setSearchResults([]);\n    }\n  };\n\n  const handleRemoveSelectedUser = (userId) => {\n    setSelectedUsers(selectedUsers.filter(user => user._id !== userId));\n  };\n\n  const handleRemoveSharedUser = async (userId) => {\n    try {\n      setShareLoading(true);\n      setSharingError('');\n      \n      const response = await api.removeShare(id, userId);\n      console.log('âœ… Share removed:', response.data);\n      \n      // Update local state\n      setSharedWith(sharedWith.filter(share => share.userId !== userId));\n      setSharingSuccess('User removed from shared list');\n      \n      setTimeout(() => setSharingSuccess(''), 3000);\n    } catch (error) {\n      console.error('âŒ Remove share failed:', error);\n      setSharingError('Failed to remove share: ' + (error.response?.data?.error || error.message));\n    } finally {\n      setShareLoading(false);\n    }\n  };\n\n  const handleShareNote = async () => {\n    if (selectedUsers.length === 0) {\n      setSharingError('Please select at least one user to share with');\n      return;\n    }\n    \n    if (!id || isNewNote) {\n      setSharingError('Please save the note first before sharing');\n      return;\n    }\n    \n    setShareLoading(true);\n    setSharingError('');\n    setSharingSuccess('');\n    \n    try {\n      console.log('ðŸ” Sharing note with users:', selectedUsers);\n      \n      // For each selected user, share the note\n      const sharePromises = selectedUsers.map(async (user) => {\n        const shareData = {\n          userId: user._id,\n          permission: 'read' // or 'write' based on your UI\n        };\n        \n        // If note is encrypted, you might need to add encryptedKey here\n        if (masterKey && content) {\n          // You'll need to encrypt the key for the target user\n          // This depends on your encryption implementation\n          // shareData.encryptedKey = encryptedKeyForUser;\n        }\n        \n        return api.shareNote(id, shareData);\n      });\n      \n      const results = await Promise.all(sharePromises);\n      console.log('âœ… Share results:', results);\n      \n      // Add to sharedWith list\n      const newSharedUsers = selectedUsers.map((user, index) => ({\n        userId: user._id,\n        permission: 'read',\n        sharedAt: new Date().toISOString(),\n        user: {\n          _id: user._id,\n          username: user.username,\n          email: user.email\n        }\n      }));\n      \n      setSharedWith([...sharedWith, ...newSharedUsers]);\n      setSelectedUsers([]);\n      setSearchQuery('');\n      setSharingSuccess(`Successfully shared with ${selectedUsers.length} user(s)`);\n      \n      setTimeout(() => {\n        setSharingSuccess('');\n        setShowShareModal(false);\n      }, 3000);\n      \n    } catch (error) {\n      console.error('âŒ Share failed:', {\n        message: error.message,\n        response: error.response?.data,\n        status: error.response?.status\n      });\n      \n      const errorMsg = error.response?.data?.error || error.message;\n      setSharingError(`Failed to share note: ${errorMsg}`);\n    } finally {\n      setShareLoading(false);\n    }\n  };\n\n  const fetchSharedWith = async () => {\n    if (!id || isNewNote) return;\n    \n    try {\n      console.log('ðŸ” Fetching shared users for note:', id);\n      const response = await api.getNoteSharedWith(id);\n      console.log('âœ… Shared with:', response.data);\n      setSharedWith(response.data);\n    } catch (error) {\n      console.error('âŒ Failed to fetch shared users:', error);\n      // Don't show error if endpoint doesn't exist yet\n      if (error.response?.status !== 404) {\n        console.error('Error details:', error.response?.data);\n      }\n    }\n  };\n\n  // Add this useEffect to fetch shared users when note loads\n  useEffect(() => {\n    if (!isNewNote && id && isAuthenticated) {\n      fetchSharedWith();\n    }\n  }, [id, isNewNote, isAuthenticated]);\n\n  const openShareModal = () => {\n    setShowShareModal(true);\n    setSearchQuery('');\n    setSearchResults([]);\n    setSelectedUsers([]);\n    setSharingError('');\n    setSharingSuccess('');\n  };\n\n  // Debug sharing function\n  const debugSharing = async () => {\n    console.log('=== DEBUG SHARING ===');\n    console.log('1. Note ID:', id);\n    console.log('2. Is new note:', isNewNote);\n    console.log('3. Current user:', user);\n    console.log('4. Selected users:', selectedUsers);\n    console.log('5. Shared with:', sharedWith);\n    \n    // Test user search\n    if (searchQuery.length >= 2) {\n      console.log('Testing user search with query:', searchQuery);\n      try {\n        const response = await api.searchUsers(searchQuery);\n        console.log('Search response:', response.data);\n      } catch (error) {\n        console.error('Search error:', error.response?.data || error.message);\n      }\n    }\n    \n    // Test share endpoint\n    if (id && !isNewNote && selectedUsers.length > 0) {\n      console.log('Testing share with first selected user:', selectedUsers[0]);\n      const testShareData = {\n        userId: selectedUsers[0]._id,\n        permission: 'read'\n      };\n      console.log('Share data:', testShareData);\n      \n      try {\n        const response = await api.shareNote(id, testShareData);\n        console.log('Share test response:', response.data);\n      } catch (error) {\n        console.error('Share test error:', {\n          status: error.response?.status,\n          data: error.response?.data,\n          message: error.message\n        });\n      }\n    }\n  };\n\n  // UPDATED save function\n  const handleSave = async () => {\n    console.log('ðŸ” NoteEditor: Save button clicked');\n    console.log('ðŸ” Current title:', title);\n    console.log('ðŸ” Current content length:', content.length);\n    console.log('ðŸ” isNewNote:', isNewNote);\n    console.log('ðŸ” id from useParams:', id);\n    \n    if (!title.trim()) {\n      setError('Title is required');\n      return;\n    }\n\n    // Check if we have a token\n    const token = localStorage.getItem('token');\n    if (!token) {\n      console.log('ðŸ” NoteEditor: No token found, redirecting to login');\n      setError('Please log in to save notes');\n      navigate('/login');\n      return;\n    }\n\n    setSaving(true);\n    setError('');\n\n    try {\n      // Process tags\n      const tagsArray = tags.split(',')\n        .map(tag => tag.trim())\n        .filter(tag => tag.length > 0);\n      \n      const noteData = {\n        title: title.trim(),\n        tags: tagsArray,\n        isEncrypted: !!masterKey\n      };\n\n      console.log('ðŸ” NoteEditor: Note data to save:', {\n        title: noteData.title,\n        tagsCount: noteData.tags.length,\n        hasContent: !!content,\n        isEncrypted: noteData.isEncrypted\n      });\n\n      // Encrypt content if we have master key\n      if (masterKey && content) {\n        try {\n          console.log('ðŸ” NoteEditor: Encrypting content...');\n          const encrypted = encryptNote(content, masterKey);\n          noteData.content = encrypted.ciphertext;\n          noteData.encryptionMetadata = {\n            algorithm: 'AES-CBC',\n            iv: encrypted.iv,\n            salt: encrypted.salt\n          };\n          console.log('ðŸ” NoteEditor: Content encrypted successfully');\n        } catch (encryptError) {\n          console.error('ðŸ” NoteEditor: Encryption error:', encryptError);\n          setError('Failed to encrypt note. Using plaintext.');\n          noteData.content = content;\n          noteData.isEncrypted = false;\n        }\n      } else {\n        noteData.content = content;\n        noteData.isEncrypted = false;\n      }\n\n      console.log('ðŸ” NoteEditor: Sending note data to API...');\n      \n      let response;\n      if (isNewNote) {\n        console.log('ðŸ” Creating new note via API...');\n        response = await api.createNote(noteData);\n        console.log('ðŸ” NoteEditor: Create response:', response.data);\n      } else {\n        console.log('ðŸ” Updating existing note via API...');\n        response = await api.updateNote(id, noteData);\n        console.log('ðŸ” NoteEditor: Update response:', response.data);\n      }\n\n      if (response.data && response.data.id) {\n        console.log('âœ… Note saved successfully! ID:', response.data.id);\n        alert('âœ… Note saved successfully!');\n        \n        if (isNewNote) {\n          // Navigate to the newly created note\n          navigate(`/note/${response.data.id}`);\n        } else {\n          // Refresh the note data\n          fetchNote();\n        }\n      } else {\n        console.error('âŒ Note saved but no ID returned:', response.data);\n        alert('Note saved but something went wrong. Please check console.');\n      }\n      \n    } catch (error) {\n      console.error('ðŸ” NoteEditor: Save error:', {\n        message: error.message,\n        response: error.response?.data,\n        status: error.response?.status,\n        config: {\n          url: error.config?.url,\n          method: error.config?.method\n        }\n      });\n      \n      if (error.response?.status === 401) {\n        setError('Session expired. Please log in again.');\n        localStorage.removeItem('token');\n        window.location.href = '/login';\n      } else if (error.code === 'ECONNREFUSED') {\n        setError('Cannot connect to backend server. Make sure it\\'s running on http://localhost:5000');\n      } else if (error.response?.status === 400) {\n        setError(`Validation error: ${JSON.stringify(error.response.data)}`);\n      } else if (error.response?.status === 500) {\n        setError('Server error (500). Please check backend logs.');\n      } else {\n        setError(error.response?.data?.error || 'Failed to save note');\n      }\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleRestoreVersion = async (version) => {\n    if (window.confirm(`Restore to version ${version}?`)) {\n      try {\n        await api.restoreVersion(id, version);\n        fetchNote();\n        setShowHistory(false);\n        alert('Version restored successfully!');\n      } catch (error) {\n        console.error('Restore error:', error);\n        alert('Failed to restore version');\n      }\n    }\n  };\n\n  // Enhanced formatting functions\n  const formatText = (command, value = null) => {\n    const textarea = textareaRef.current;\n    if (!textarea) return;\n    \n    const start = textarea.selectionStart;\n    const end = textarea.selectionEnd;\n    const selectedText = content.substring(start, end);\n    \n    let formattedText = '';\n    let cursorOffset = 0;\n    \n    switch (command) {\n      case 'bold':\n        formattedText = `**${selectedText}**`;\n        cursorOffset = selectedText ? 2 : 0;\n        break;\n      case 'italic':\n        formattedText = `*${selectedText}*`;\n        cursorOffset = selectedText ? 1 : 0;\n        break;\n      case 'underline':\n        formattedText = `<u>${selectedText}</u>`;\n        cursorOffset = selectedText ? 3 : 0;\n        break;\n      case 'heading':\n        const level = value || 1;\n        formattedText = `${'#'.repeat(level)} ${selectedText}`;\n        cursorOffset = selectedText ? level + 1 : 0;\n        break;\n      case 'bullet':\n        formattedText = selectedText ? `\\n- ${selectedText}` : `\\n- `;\n        cursorOffset = selectedText ? 3 : 2;\n        break;\n      case 'numbered':\n        formattedText = selectedText ? `\\n1. ${selectedText}` : `\\n1. `;\n        cursorOffset = selectedText ? 4 : 3;\n        break;\n      case 'code':\n        formattedText = selectedText ? `\\`\\`\\`\\n${selectedText}\\n\\`\\`\\`` : `\\`\\`\\`\\n\\`\\`\\``;\n        cursorOffset = selectedText ? 4 : 4;\n        break;\n      case 'inlineCode':\n        formattedText = `\\`${selectedText}\\``;\n        cursorOffset = selectedText ? 1 : 0;\n        break;\n      case 'quote':\n        formattedText = selectedText ? `> ${selectedText}` : `> `;\n        cursorOffset = selectedText ? 2 : 2;\n        break;\n      case 'link':\n        formattedText = `[${selectedText || 'link text'}](https://example.com)`;\n        cursorOffset = selectedText ? 0 : 11;\n        break;\n      case 'image':\n        formattedText = `![${selectedText || 'alt text'}](https://example.com/image.jpg)`;\n        cursorOffset = selectedText ? 0 : 28;\n        break;\n      default:\n        formattedText = selectedText;\n    }\n    \n    const newContent = content.substring(0, start) + formattedText + content.substring(end);\n    setContent(newContent);\n    \n    // Focus back on textarea and position cursor\n    setTimeout(() => {\n      textarea.focus();\n      const newCursorPos = start + formattedText.length - (selectedText ? 0 : cursorOffset);\n      textarea.setSelectionRange(newCursorPos, newCursorPos);\n    }, 0);\n  };\n\n  // Handle keyboard shortcuts\n  const handleKeyDown = (e) => {\n    // Ctrl/Cmd + B for bold\n    if ((e.ctrlKey || e.metaKey) && e.key === 'b') {\n      e.preventDefault();\n      formatText('bold');\n    }\n    // Ctrl/Cmd + I for italic\n    if ((e.ctrlKey || e.metaKey) && e.key === 'i') {\n      e.preventDefault();\n      formatText('italic');\n    }\n    // Ctrl/Cmd + K for code\n    if ((e.ctrlKey || e.metaKey) && e.key === 'k') {\n      e.preventDefault();\n      formatText('inlineCode');\n    }\n  };\n\n  const toggleFullscreen = () => {\n    if (!document.fullscreenElement) {\n      editorRef.current?.requestFullscreen();\n      setIsFullscreen(true);\n    } else {\n      document.exitFullscreen();\n      setIsFullscreen(false);\n    }\n  };\n\n  const renderPreview = () => {\n    // Simple markdown rendering\n    let preview = content\n      .replace(/^# (.*$)/gim, '<h1 class=\"text-3xl font-bold mb-4\">$1</h1>')\n      .replace(/^## (.*$)/gim, '<h2 class=\"text-2xl font-bold mb-3\">$2</h2>')\n      .replace(/^### (.*$)/gim, '<h3 class=\"text-xl font-bold mb-2\">$3</h3>')\n      .replace(/\\*\\*(.*)\\*\\*/gim, '<strong class=\"font-bold\">$1</strong>')\n      .replace(/\\*(.*)\\*/gim, '<em class=\"italic\">$1</em>')\n      .replace(/`(.*?)`/g, '<code class=\"bg-gray-100 dark:bg-gray-800 px-1 py-0.5 rounded text-sm font-mono\">$1</code>')\n      .replace(/^- (.*$)/gim, '<li class=\"ml-4\">$1</li>')\n      .replace(/\\n/g, '<br />');\n    \n    return { __html: preview };\n  };\n\n  // Show loading while auth is initializing OR note is loading\n  if (authLoading || (loading && !isNewNote)) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"text-center\">\n          <div className=\"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto\"></div>\n          <p className=\"mt-4 text-gray-500 dark:text-gray-400\">\n            {authLoading ? 'Checking authentication...' : 'Loading note...'}\n          </p>\n          {!authLoading && id && (\n            <p className=\"mt-2 text-sm text-gray-400\">Note ID: {id}</p>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 py-8\" ref={editorRef}>\n      {/* Password Prompt Modal */}\n      {showPasswordPrompt && (\n        <div className=\"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-md shadow-2xl\">\n            <div className=\"flex items-center gap-3 mb-4\">\n              <div className=\"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center\">\n                <FaLock className=\"text-white text-xl\" />\n              </div>\n              <div>\n                <h3 className=\"text-xl font-bold text-gray-900 dark:text-white\">Encryption Required</h3>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">Enter password to encrypt this note</p>\n              </div>\n            </div>\n            \n            <p className=\"text-sm text-gray-600 dark:text-gray-300 mb-4\">\n              This note was created with encryption enabled. Please enter the encryption password to continue.\n            </p>\n            \n            <input\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              placeholder=\"Enter encryption password\"\n              className=\"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:text-white mb-4\"\n              onKeyPress={(e) => e.key === 'Enter' && handlePasswordSubmit()}\n              autoFocus\n            />\n            \n            <div className=\"flex justify-end gap-3\">\n              <button\n                onClick={() => {\n                  setShowPasswordPrompt(false);\n                  setPassword('');\n                  alert('Note will be saved without encryption.');\n                }}\n                className=\"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n              >\n                Skip Encryption\n              </button>\n              <button\n                onClick={handlePasswordSubmit}\n                className=\"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 font-medium transition-all\"\n              >\n                Set Password\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Share Modal */}\n      {showShareModal && (\n        <div className=\"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-2xl shadow-2xl\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <div>\n                <h3 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Share Note</h3>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">\n                  Share \"{title || 'Untitled Note'}\" with other users\n                </p>\n              </div>\n              <button\n                onClick={() => setShowShareModal(false)}\n                className=\"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg\"\n              >\n                <FaTimes size={24} />\n              </button>\n            </div>\n\n            {/* Error/Success Messages */}\n            {sharingError && (\n              <div className=\"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg\">\n                <div className=\"flex items-center\">\n                  <FaTimesCircle className=\"text-red-500 mr-2\" />\n                  <p className=\"text-sm text-red-800 dark:text-red-200\">{sharingError}</p>\n                </div>\n              </div>\n            )}\n            \n            {sharingSuccess && (\n              <div className=\"mb-4 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg\">\n                <div className=\"flex items-center\">\n                  <FaCheckCircle className=\"text-green-500 mr-2\" />\n                  <p className=\"text-sm text-green-800 dark:text-green-200\">{sharingSuccess}</p>\n                </div>\n              </div>\n            )}\n\n            {/* User Search */}\n            <div className=\"mb-6\">\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                Search users by username or email\n              </label>\n              <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <FaSearch className=\"h-5 w-5 text-gray-400\" />\n                </div>\n                <input\n                  type=\"text\"\n                  value={searchQuery}\n                  onChange={handleSearchChange}\n                  placeholder=\"Start typing username or email...\"\n                  className=\"pl-10 w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:text-white\"\n                  disabled={shareLoading}\n                />\n                {searchLoading && (\n                  <div className=\"absolute inset-y-0 right-0 pr-3 flex items-center\">\n                    <FaSpinner className=\"h-5 w-5 text-gray-400 animate-spin\" />\n                  </div>\n                )}\n              </div>\n              \n              {/* Search Results */}\n              {searchResults.length > 0 && (\n                <div className=\"mt-2 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden\">\n                  {searchResults.map(user => (\n                    <div\n                      key={user._id}\n                      onClick={() => handleAddUser(user)}\n                      className=\"p-3 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0\"\n                    >\n                      <div className=\"flex items-center justify-between\">\n                        <div>\n                          <div className=\"font-medium text-gray-900 dark:text-white\">\n                            {user.username}\n                          </div>\n                          <div className=\"text-sm text-gray-500 dark:text-gray-400\">\n                            {user.email}\n                          </div>\n                        </div>\n                        <FaUserPlus className=\"text-blue-500\" />\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n              \n              {searchQuery.length >= 2 && !searchLoading && searchResults.length === 0 && (\n                <div className=\"mt-2 text-center py-4 text-gray-500 dark:text-gray-400\">\n                  No users found for \"{searchQuery}\"\n                </div>\n              )}\n            </div>\n\n            {/* Selected Users */}\n            {selectedUsers.length > 0 && (\n              <div className=\"mb-6\">\n                <h4 className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Selected Users ({selectedUsers.length})\n                </h4>\n                <div className=\"flex flex-wrap gap-2\">\n                  {selectedUsers.map(user => (\n                    <div\n                      key={user._id}\n                      className=\"inline-flex items-center gap-2 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 px-3 py-1.5 rounded-full\"\n                    >\n                      <span className=\"text-sm\">\n                        {user.username} ({user.email})\n                      </span>\n                      <button\n                        onClick={() => handleRemoveSelectedUser(user._id)}\n                        className=\"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300\"\n                        disabled={shareLoading}\n                      >\n                        <FaTimesCircle />\n                      </button>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* Already Shared With */}\n            {sharedWith.length > 0 && (\n              <div className=\"mb-6\">\n                <h4 className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Already Shared With ({sharedWith.length})\n                </h4>\n                <div className=\"space-y-2\">\n                  {sharedWith.map(share => (\n                    <div\n                      key={share.userId}\n                      className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-900 rounded-lg\"\n                    >\n                      <div>\n                        <div className=\"font-medium text-gray-900 dark:text-white\">\n                          {share.user?.username || 'Unknown User'}\n                        </div>\n                        <div className=\"text-sm text-gray-500 dark:text-gray-400\">\n                          {share.user?.email || 'No email'} â€¢ {share.permission} access\n                        </div>\n                        {share.sharedAt && (\n                          <div className=\"text-xs text-gray-400 dark:text-gray-500 mt-1\">\n                            Shared {new Date(share.sharedAt).toLocaleDateString()}\n                          </div>\n                        )}\n                      </div>\n                      <button\n                        onClick={() => handleRemoveSharedUser(share.userId)}\n                        className=\"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded\"\n                        disabled={shareLoading}\n                      >\n                        <FaUserTimes />\n                      </button>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* Action Buttons */}\n            <div className=\"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700\">\n              <button\n                onClick={() => setShowShareModal(false)}\n                className=\"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n                disabled={shareLoading}\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleShareNote}\n                disabled={selectedUsers.length === 0 || shareLoading}\n                className=\"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 flex items-center gap-2 transition-all\"\n              >\n                {shareLoading ? (\n                  <>\n                    <FaSpinner className=\"animate-spin\" />\n                    Sharing...\n                  </>\n                ) : (\n                  <>\n                    <FaShareAlt />\n                    Share Note\n                  </>\n                )}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Enhanced Debug Panel */}\n      <div className=\"mb-6 bg-gray-100 dark:bg-gray-800 rounded-xl p-4 border border-gray-300 dark:border-gray-700\">\n        <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-3\">\n          <div className=\"flex items-center gap-3\">\n            <FaBug className=\"text-yellow-600\" />\n            <h3 className=\"font-medium text-gray-900 dark:text-white\">Debug Panel</h3>\n            {isNewNote && (\n              <span className=\"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs rounded\">\n                Creating New Note\n              </span>\n            )}\n            {apiError && !isNewNote && (\n              <span className=\"px-2 py-1 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 text-xs rounded\">\n                API Error: {apiError.status || 'No Status'}\n              </span>\n            )}\n          </div>\n          <div className=\"flex flex-wrap gap-2\">\n            <button\n              onClick={testBackendHealth}\n              className=\"px-3 py-1 bg-green-500 text-white rounded text-sm flex items-center gap-2 hover:bg-green-600\"\n            >\n              <FaServer />\n              Test Backend\n            </button>\n\n            <button\n              onClick={testDirectApiCall}\n              className=\"px-3 py-1 bg-purple-500 text-white rounded text-sm flex items-center gap-2 hover:bg-purple-600\"\n              disabled={isNewNote}\n              title={isNewNote ? \"Cannot test API for new notes\" : \"Test API with current note ID\"}\n            >\n              <FaNetworkWired />\n              Test API Direct\n            </button>\n            <button\n              onClick={listAllNotes}\n              className=\"px-3 py-1 bg-teal-500 text-white rounded text-sm flex items-center gap-2 hover:bg-teal-600\"\n            >\n              <FaList />\n              List Notes\n            </button>\n            <button\n              onClick={debugNoteId}\n              className=\"px-3 py-1 bg-indigo-500 text-white rounded text-sm flex items-center gap-2 hover:bg-indigo-600\"\n            >\n              <FaDatabase />\n              Debug ID\n            </button>\n            <button\n              onClick={debugAuth}\n              className=\"px-3 py-1 bg-yellow-500 text-white rounded text-sm flex items-center gap-2 hover:bg-yellow-600\"\n            >\n              <FaKey />\n              Test Auth\n            </button>\n            {/* ADDED Current State Debug Button */}\n            <button\n              onClick={() => {\n                console.log('=== CURRENT STATE DEBUG ===');\n                console.log('Title:', title);\n                console.log('Tags:', tags);\n                console.log('Content length:', content.length);\n                console.log('Location state:', location.state);\n                console.log('Is new note:', isNewNote);\n                console.log('Master key present:', !!masterKey);\n                console.log('useParams id:', id);\n                console.log('Window location:', window.location.href);\n                alert(`Current State:\\n\\nTitle: \"${title}\"\\nTags: \"${tags}\"\\nContent: ${content.length} chars\\nLocation State: ${JSON.stringify(location.state)}\\nIs New Note: ${isNewNote}\\nuseParams id: ${id}\\nURL: ${window.location.href}`);\n              }}\n              className=\"px-3 py-1 bg-gray-500 text-white rounded text-sm flex items-center gap-2 hover:bg-gray-600\"\n            >\n              <FaInfoCircle />\n              Current State\n            </button>\n            {/* ADDED: Force create new note button */}\n            <button\n              onClick={handleCreateNewNote}\n              className=\"px-3 py-1 bg-blue-600 text-white rounded text-sm flex items-center gap-2 hover:bg-blue-700\"\n            >\n              <FaStickyNote />\n              Force New Note\n            </button>\n            {/* ADDED: Debug sharing button */}\n            <button\n              onClick={debugSharing}\n              className=\"px-3 py-1 bg-pink-500 text-white rounded text-sm flex items-center gap-2 hover:bg-pink-600\"\n            >\n              <FaUserFriends />\n              Debug Sharing\n            </button>\n            <button\n              onClick={updateDebugInfo}\n              className=\"px-3 py-1 bg-blue-500 text-white rounded text-sm flex items-center gap-2 hover:bg-blue-600\"\n            >\n              <FaInfoCircle />\n              Refresh\n            </button>\n            <button\n              onClick={() => {\n                localStorage.clear();\n                window.location.href = '/login';\n              }}\n              className=\"px-3 py-1 bg-red-500 text-white rounded text-sm flex items-center gap-2 hover:bg-red-600\"\n            >\n              <FaExclamationTriangle />\n              Clear & Login\n            </button>\n          </div>\n        </div>\n        \n        {debugInfo && (\n          <div className=\"space-y-4\">\n            <div className=\"grid grid-cols-2 md:grid-cols-6 gap-3 text-xs\">\n              <div className=\"p-2 bg-white dark:bg-gray-900 rounded\">\n                <div className=\"text-gray-500\">Auth Status</div>\n                <div className={`font-medium ${debugInfo.isAuthenticated ? 'text-green-600' : 'text-red-600'}`}>\n                  {debugInfo.isAuthenticated ? 'âœ… Logged In' : 'âŒ Logged Out'}\n                </div>\n              </div>\n              <div className=\"p-2 bg-white dark:bg-gray-900 rounded\">\n                <div className=\"text-gray-500\">Auth Loading</div>\n                <div className={`font-medium ${debugInfo.authLoading ? 'text-yellow-600' : 'text-gray-600'}`}>\n                  {debugInfo.authLoading ? 'â³ Loading...' : 'âœ… Ready'}\n                </div>\n              </div>\n              <div className=\"p-2 bg-white dark:bg-gray-900 rounded\">\n                <div className=\"text-gray-500\">Backend</div>\n                <div className={`font-medium ${debugInfo.backendStatus === 'connected' ? 'text-green-600' : debugInfo.backendStatus === 'disconnected' ? 'text-red-600' : 'text-yellow-600'}`}>\n                  {debugInfo.backendStatus === 'connected' ? 'âœ… Connected' : \n                   debugInfo.backendStatus === 'disconnected' ? 'âŒ Disconnected' : 'âš ï¸ Unknown'}\n                </div>\n              </div>\n              <div className=\"p-2 bg-white dark:bg-gray-900 rounded\">\n                <div className=\"text-gray-500\">Token</div>\n                <div className={`font-medium ${debugInfo.hasToken ? 'text-green-600' : 'text-red-600'}`}>\n                  {debugInfo.hasToken ? `âœ… ${debugInfo.tokenLength} chars` : 'âŒ Missing'}\n                </div>\n              </div>\n              <div className=\"p-2 bg-white dark:bg-gray-900 rounded\">\n                <div className=\"text-gray500\">User</div>\n                <div className=\"font-medium truncate\">\n                  {debugInfo.user ? debugInfo.user.email : 'None'}\n                </div>\n              </div>\n              <div className=\"p-2 bg-white dark:bg-gray-900 rounded\">\n                <div className=\"text-gray-500\">Encryption</div>\n                <div className={`font-medium ${debugInfo.masterKey ? 'text-green-600' : 'text-yellow-600'}`}>\n                  {debugInfo.masterKey ? 'âœ… Active' : 'âš ï¸ Inactive'}\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n              <div className=\"p-3 bg-white dark:bg-gray-900 rounded border\">\n                <div className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">Note Details</div>\n                <div className=\"space-y-1 text-xs\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-500\">Note ID from useParams:</span>\n                    <span className=\"font-mono truncate\">\n                      {debugInfo.noteId === undefined ? 'undefined' : debugInfo.noteId}\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-500\">Is New Note:</span>\n                    <span className={debugInfo.isNewNote ? 'text-green-600 font-medium' : ''}>\n                      {debugInfo.isNewNote ? 'âœ… Yes' : 'âŒ No'}\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-500\">Valid ObjectId:</span>\n                    <span className={debugInfo.isValidObjectId ? 'text-green-600' : 'text-gray-500'}>\n                      {debugInfo.isNewNote ? 'N/A (New Note)' : debugInfo.isValidObjectId ? 'âœ… Yes' : 'âŒ No'}\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-500\">User ID:</span>\n                    <span className=\"font-mono truncate\">{debugInfo.user?.id || 'None'}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-500\">Actual URL:</span>\n                    <span className=\"font-mono truncate\">{window.location.href}</span>\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"p-3 bg-white dark:bg-gray-900 rounded border\">\n                <div className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">API Status</div>\n                <div className=\"space-y-1 text-xs\">\n                  {debugInfo.isNewNote ? (\n                    <div className=\"text-green-600 text-center py-2\">\n                      <FaCheckCircle className=\"inline mr-2\" />\n                      Creating new note - no API call needed\n                    </div>\n                  ) : debugInfo.apiResponse ? (\n                    <>\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-gray-500\">Response:</span>\n                        <span className=\"text-green-600 font-medium\">âœ… Received</span>\n                      </div>\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-gray-500\">Note ID:</span>\n                        <span className=\"font-mono truncate\">{debugInfo.apiResponse.id}</span>\n                      </div>\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-gray-500\">Title:</span>\n                        <span className=\"truncate\">{debugInfo.apiResponse.title}</span>\n                      </div>\n                    </>\n                  ) : debugInfo.apiError ? (\n                    <>\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-gray-500\">Status:</span>\n                        <span className=\"text-red-600 font-medium\">\n                          âŒ {debugInfo.apiError.status || 'Error'}\n                        </span>\n                      </div>\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-gray-500\">Message:</span>\n                        <span className=\"truncate text-red-500\">{debugInfo.apiError.message}</span>\n                      </div>\n                    </>\n                  ) : (\n                    <div className=\"text-gray-500 text-center py-2\">No API call made yet</div>\n                  )}\n                </div>\n              </div>\n            </div>\n            \n            {debugInfo.tokenPreview && (\n              <div className=\"p-3 bg-white dark:bg-gray-900 rounded border\">\n                <div className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">Token Preview</div>\n                <div className=\"font-mono text-xs bg-gray-50 dark:bg-gray-800 p-2 rounded break-all\">\n                  {debugInfo.tokenPreview}\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Header */}\n      <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8\">\n        <div className=\"flex-1\">\n          <input\n            type=\"text\"\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n            placeholder=\"Note Title\"\n            className=\"text-3xl font-bold w-full border-0 focus:outline-none focus:ring-0 bg-transparent dark:text-white placeholder-gray-400 dark:placeholder-gray-500\"\n            disabled={!!apiError && !isNewNote}\n          />\n          <div className=\"mt-2\">\n            <input\n              type=\"text\"\n              value={tags}\n              onChange={(e) => setTags(e.target.value)}\n              placeholder=\"Tags (comma separated)\"\n              className=\"text-sm text-gray-600 dark:text-gray-400 w-full border-0 focus:outline-none focus:ring-0 bg-transparent placeholder-gray-400 dark:placeholder-gray-500\"\n              disabled={!!apiError && !isNewNote}\n            />\n          </div>\n        </div>\n        <div className=\"flex flex-wrap gap-3\">\n          {!isNewNote && (\n            <>\n              <button\n                onClick={fetchVersions}\n                className=\"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 flex items-center gap-2 transition-colors text-gray-700 dark:text-gray-300\"\n                disabled={!!apiError}\n              >\n                <FaHistory />\n                <span>History</span>\n              </button>\n              <button\n                onClick={openShareModal}\n                className=\"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 flex items-center gap-2 transition-colors text-gray-700 dark:text-gray-300\"\n                disabled={!!apiError}\n              >\n                <FaShareAlt />\n                <span>Share</span>\n              </button>\n              <button\n                onClick={fetchNote}\n                className=\"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 flex items-center gap-2 transition-colors text-gray-700 dark:text-gray-300\"\n                disabled={!!apiError}\n              >\n                <FaDatabase />\n                <span>Reload Note</span>\n              </button>\n            </>\n          )}\n          <button\n            onClick={() => setShowPreview(!showPreview)}\n            className=\"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 flex items-center gap-2 transition-colors text-gray-700 dark:text-gray-300\"\n          >\n            {showPreview ? <FaEyeSlash /> : <FaEye />}\n            <span>{showPreview ? 'Hide Preview' : 'Show Preview'}</span>\n          </button>\n          <button\n            onClick={toggleFullscreen}\n            className=\"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 flex items-center gap-2 transition-colors text-gray-700 dark:text-gray-300\"\n          >\n            {isFullscreen ? <FaCompress /> : <FaExpand />}\n            <span>{isFullscreen ? 'Exit Fullscreen' : 'Fullscreen'}</span>\n          </button>\n          <button\n            onClick={() => navigate('/')}\n            className=\"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 flex items-center gap-2 transition-colors text-gray-700 dark:text-gray-300\"\n            disabled={authLoading}\n          >\n            <FaTimes />\n            <span>Back to Notes</span>\n          </button>\n          <button\n            onClick={handleSave}\n            disabled={saving || !isAuthenticated || authLoading || (!!apiError && !isNewNote)}\n            className=\"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 flex items-center gap-2 transition-all shadow-lg hover:shadow-xl\"\n          >\n            <FaSave />\n            {saving ? 'Saving...' : 'Save Note'}\n          </button>\n        </div>\n      </div>\n\n      {error && (\n        <div className=\"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl\">\n          <div className=\"flex items-center\">\n            <div className=\"flex-shrink-0\">\n              <div className=\"w-5 h-5 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center\">\n                <div className=\"w-2 h-2 bg-red-600 rounded-full\"></div>\n              </div>\n            </div>\n            <div className=\"ml-3\">\n              <p className=\"text-sm text-red-800 dark:text-red-200 font-medium\">\n                {isNewNote && error.includes('Invalid note ID') \n                  ? 'Creating new note... Enter title and content below' \n                  : error}\n              </p>\n              {apiError?.data && (\n                <p className=\"text-xs text-red-600 dark:text-red-300 mt-1\">\n                  Server error: {JSON.stringify(apiError.data)}\n                </p>\n              )}\n              <div className=\"mt-3 flex gap-2\">\n                <button\n                  onClick={() => navigate('/')}\n                  className=\"px-3 py-1 text-xs bg-blue-100 hover:bg-blue-200 text-blue-800 rounded\"\n                >\n                  View All Notes\n                </button>\n                {!isNewNote && (\n                  <button\n                    onClick={() => navigate('/note/new')}\n                    className=\"px-3 py-1 text-xs bg-green-100 hover:bg-green-200 text-green-800 rounded\"\n                  >\n                    Create New Note\n                  </button>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Stats and Settings */}\n      <div className=\"mb-6 bg-white dark:bg-gray-800 rounded-xl p-5 shadow border border-gray-200 dark:border-gray-700\">\n        <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\n          <div className=\"flex items-center gap-6\">\n            <div className=\"flex items-center gap-2\">\n              {masterKey ? (\n                <div className=\"flex items-center gap-2 text-green-600 dark:text-green-400\">\n                  <FaLock />\n                  <span className=\"font-medium\">Encryption Active</span>\n                </div>\n              ) : (\n                <div className=\"flex items-center gap-2 text-red-600 dark:text-red-400\">\n                  <FaKey />\n                  <span className=\"font-medium\">Not Encrypted</span>\n                </div>\n              )}\n            </div>\n            <div className=\"text-sm text-gray-600 dark:text-gray-400\">\n              <span className=\"font-medium\">{content.length}</span> characters â€¢{' '}\n              <span className=\"font-medium\">{content.trim().split(/\\s+/).filter(Boolean).length}</span> words\n            </div>\n          </div>\n          <div className=\"flex items-center gap-4\">\n            <label className=\"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300\">\n              <input\n                type=\"checkbox\"\n                checked={isAutoResizing}\n                onChange={(e) => setIsAutoResizing(e.target.checked)}\n                className=\"w-4 h-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n              />\n              Auto-resize editor\n            </label>\n            <div className=\"w-px h-4 bg-gray-300 dark:bg-gray-600\"></div>\n            <div className={`text-xs ${isAuthenticated ? 'text-green-600' : 'text-red-600'}`}>\n              {isAuthenticated ? 'âœ… Logged in' : 'âŒ Not logged in'}\n            </div>\n            <div className=\"w-px h-4 bg-gray-300 dark:bg-gray-600\"></div>\n            <div className={`text-xs ${backendStatus === 'connected' ? 'text-green-600' : 'text-red-600'}`}>\n              Backend: {backendStatus === 'connected' ? 'âœ… Connected' : 'âŒ Disconnected'}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Enhanced formatting toolbar */}\n      <div className=\"mb-6 bg-gradient-to-r from-gray-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 shadow-sm\">\n        <div className=\"flex flex-wrap items-center gap-3\">\n          <span className=\"text-sm font-semibold text-gray-700 dark:text-gray-300 mr-2\">Format:</span>\n          \n          {/* Headings */}\n          <div className=\"flex items-center bg-white dark:bg-gray-800 rounded-lg p-1 shadow-inner\">\n            <button\n              onClick={() => formatText('heading', 1)}\n              className=\"px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-1 transition-colors\"\n              title=\"Heading 1\"\n              disabled={!!apiError && !isNewNote}\n            >\n              <FaHeading className=\"text-gray-600 dark:text-gray-400 text-sm\" />\n              <span className=\"text-sm font-medium\">H1</span>\n            </button>\n            <div className=\"w-px h-4 bg-gray-300 dark:bg-gray-600 mx-1\"></div>\n            <button\n              onClick={() => formatText('heading', 2)}\n              className=\"px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-sm\"\n              title=\"Heading 2\"\n              disabled={!!apiError && !isNewNote}\n            >\n              H2\n            </button>\n            <button\n              onClick={() => formatText('heading', 3)}\n              className=\"px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-sm\"\n              title=\"Heading 3\"\n              disabled={!!apiError && !isNewNote}\n            >\n              H3\n            </button>\n          </div>\n\n          {/* Text formatting */}\n          <div className=\"flex items-center bg-white dark:bg-gray-800 rounded-lg p-1 shadow-inner\">\n            <button\n              onClick={() => formatText('bold')}\n              className=\"w-9 h-9 flex items-center justify-center rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\n              title=\"Bold (Ctrl+B)\"\n              disabled={!!apiError && !isNewNote}\n            >\n              <FaBold className=\"text-gray-600 dark:text-gray-400\" />\n            </button>\n            <button\n              onClick={() => formatText('italic')}\n              className=\"w-9 h-9 flex items-center justify-center rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\n              title=\"Italic (Ctrl+I)\"\n              disabled={!!apiError && !isNewNote}\n            >\n              <FaItalic className=\"text-gray-600 dark:text-gray-400\" />\n            </button>\n            <button\n              onClick={() => formatText('underline')}\n              className=\"w-9 h-9 flex items-center justify-center rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\n              title=\"Underline\"\n              disabled={!!apiError && !isNewNote}\n            >\n              <FaUnderline className=\"text-gray-600 dark:text-gray-400\" />\n            </button>\n          </div>\n\n          {/* Lists */}\n          <div className=\"flex items-center bg-white dark:bg-gray-800 rounded-lg p-1 shadow-inner\">\n            <button\n              onClick={() => formatText('bullet')}\n              className=\"w-9 h-9 flex items-center justify-center rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\n              title=\"Bullet List\"\n              disabled={!!apiError && !isNewNote}\n            >\n              <FaListUl className=\"text-gray-600 dark:text-gray-400\" />\n            </button>\n            <button\n              onClick={() => formatText('numbered')}\n              className=\"w-9 h-9 flex items-center justify-center rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\n              title=\"Numbered List\"\n              disabled={!!apiError && !isNewNote}\n            >\n              <FaListOl className=\"text-gray-600 dark:text-gray-400\" />\n            </button>\n          </div>\n\n          {/* Code & Quotes */}\n          <div className=\"flex items-center bg-white dark:bg-gray-800 rounded-lg p-1 shadow-inner\">\n            <button\n              onClick={() => formatText('inlineCode')}\n              className=\"w-9 h-9 flex items-center justify-center rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\n              title=\"Inline Code (Ctrl+K)\"\n              disabled={!!apiError && !isNewNote}\n            >\n              <FaCode className=\"text-gray-600 dark:text-gray-400\" />\n            </button>\n            <button\n              onClick={() => formatText('code')}\n              className=\"w-9 h-9 flex items-center justify-center rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\n              title=\"Code Block\"\n              disabled={!!apiError && !isNewNote}\n            >\n              <FaCode className=\"text-lg text-gray-600 dark:text-gray-400\" />\n            </button>\n            <button\n              onClick={() => formatText('quote')}\n              className=\"w-9 h-9 flex items-center justify-center rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\n              title=\"Blockquote\"\n              disabled={!!apiError && !isNewNote}\n            >\n              <FaQuoteLeft className=\"text-gray-600 dark:text-gray-400\" />\n            </button>\n          </div>\n\n          {/* Links & Images */}\n          <div className=\"flex items-center bg-white dark:bg-gray-800 rounded-lg p-1 shadow-inner\">\n            <button\n              onClick={() => formatText('link')}\n              className=\"w-9 h-9 flex items-center justify-center rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\n              title=\"Insert Link\"\n              disabled={!!apiError && !isNewNote}\n            >\n              <FaLink className=\"text-gray-600 dark:text-gray-400\" />\n            </button>\n            <button\n              onClick={() => formatText('image')}\n              className=\"w-9 h-9 flex items-center justify-center rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\n              title=\"Insert Image\"\n              disabled={!!apiError && !isNewNote}\n            >\n              <FaImage className=\"text-gray-600 dark:text-gray-400\" />\n            </button>\n          </div>\n\n          {/* Keyboard shortcuts hint */}\n          <div className=\"ml-2 text-xs text-gray-500 dark:text-gray-400 hidden md:block\">\n            <span className=\"font-medium\">Shortcuts:</span> Ctrl+B (Bold) â€¢ Ctrl+I (Italic) â€¢ Ctrl+K (Code)\n          </div>\n        </div>\n      </div>\n\n      {/* Editor and Preview */}\n      <div className={`grid gap-6 ${showPreview ? 'grid-cols-1 lg:grid-cols-2' : 'grid-cols-1'}`}>\n        {/* Editor */}\n        <div className={`${showPreview ? 'lg:col-span-1' : 'col-span-1'}`}>\n          <div className=\"relative\">\n            <textarea\n              ref={textareaRef}\n              id=\"note-content\"\n              value={content}\n              onChange={(e) => setContent(e.target.value)}\n              onKeyDown={handleKeyDown}\n              className=\"w-full min-h-[500px] border-2 border-gray-300 dark:border-gray-600 rounded-xl p-6 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-base resize-y transition-all bg-white dark:bg-gray-900 dark:text-white\"\n              placeholder={isNewNote \n                ? \"Start typing your new note here... Use Markdown for formatting: # Headings, **bold**, *italic*, `code`, - lists, etc.\" \n                : apiError ? \"Note failed to load. Check debug panel for details.\" \n                : \"Start typing your note here... Use Markdown for formatting: # Headings, **bold**, *italic*, `code`, - lists, etc.\"}\n              style={{\n                lineHeight: '1.6',\n                fontSize: '16px',\n                minHeight: '500px',\n                maxHeight: 'calc(100vh - 300px)'\n              }}\n              disabled={!!apiError && !isNewNote}\n            />\n            \n            {/* Character counter */}\n            <div className=\"absolute bottom-4 right-4 flex items-center gap-2\">\n              <div className=\"text-xs text-gray-500 dark:text-gray-400 bg-white/80 dark:bg-gray-800/80 px-2 py-1 rounded\">\n                {content.length}/10000\n              </div>\n              <div className=\"w-px h-4 bg-gray-300 dark:bg-gray-600\"></div>\n              <div className=\"text-xs text-gray-500 dark:text-gray-400\">\n                {content.trim().split(/\\s+/).filter(Boolean).length} words\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Preview */}\n        {showPreview && (\n          <div className=\"lg:col-span-1\">\n            <div className=\"border-2 border-gray-300 dark:border-gray-600 rounded-xl p-6 min-h-[500px] bg-white dark:bg-gray-900 overflow-auto\">\n              <div className=\"flex items-center justify-between mb-4 pb-3 border-b border-gray-200 dark:border-gray-700\">\n                <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">Preview</h3>\n                <div className=\"text-sm text-gray-500 dark:text-gray-400\">\n                  Live Markdown Preview\n                </div>\n              </div>\n              <div \n                className=\"prose dark:prose-invert max-w-none markdown-preview\"\n                dangerouslySetInnerHTML={renderPreview()}\n              />\n              {!content && (\n                <div className=\"text-center py-16 text-gray-400 dark:text-gray-500\">\n                  <div className=\"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4\">\n                    <FaStickyNote className=\"text-2xl\" />\n                  </div>\n                  <p>Start typing to see the preview...</p>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Help section */}\n      <div className=\"mt-6 p-6 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/10 dark:to-purple-900/10 rounded-xl border border-blue-200 dark:border-blue-800\">\n        <h4 className=\"font-bold text-lg text-gray-900 dark:text-white mb-4 flex items-center gap-2\">\n          <FaCode className=\"text-blue-600 dark:text-blue-400\" />\n          Markdown Quick Reference\n        </h4>\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n          <div className=\"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700\">\n            <div className=\"font-mono text-sm mb-1\"># Heading 1</div>\n            <div className=\"text-xs text-gray-600 dark:text-gray-400\">Large heading</div>\n          </div>\n          <div className=\"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700\">\n            <div className=\"font-mono text-sm mb-1\">**bold**</div>\n            <div className=\"text-xs text-gray-600 dark:text-gray-400\">Bold text</div>\n          </div>\n          <div className=\"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700\">\n            <div className=\"font-mono text-sm mb-1\">*italic*</div>\n            <div className=\"text-xs text-gray-600 dark:text-gray-400\">Italic text</div>\n          </div>\n          <div className=\"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700\">\n            <div className=\"font-mono text-sm mb-1\">- item</div>\n            <div className=\"text-xs text-gray-600 dark:text-gray-400\">Bullet list</div>\n          </div>\n          <div className=\"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700\">\n            <div className=\"font-mono text-sm mb-1\">1. item</div>\n            <div className=\"text-xs text-gray-600 dark:text-gray-400\">Numbered list</div>\n          </div>\n          <div className=\"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700\">\n            <div className=\"font-mono text-sm mb-1\">`code`</div>\n            <div className=\"text-xs text-gray-600 dark:text-gray-400\">Inline code</div>\n          </div>\n          <div className=\"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700\">\n            <div className=\"font-mono text-sm mb-1\">```code```</div>\n            <div className=\"text-xs text-gray-600 dark:text-gray-400\">Code block</div>\n          </div>\n          <div className=\"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700\">\n            <div className=\"font-mono text-sm mb-1\">[link](url)</div>\n            <div className=\"text-xs text-gray-600 dark:text-gray-400\">Hyperlink</div>\n          </div>\n        </div>\n      </div>\n\n      {/* History modal */}\n      {showHistory && (\n        <div className=\"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-4xl max-h-[80vh] overflow-y-auto shadow-2xl\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <div>\n                <h3 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Note History</h3>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">Restore previous versions of this note</p>\n              </div>\n              <button\n                onClick={() => setShowHistory(false)}\n                className=\"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg\"\n              >\n                <FaTimes size={24} />\n              </button>\n            </div>\n            <div className=\"space-y-4\">\n              {versions.length === 0 ? (\n                <div className=\"text-center py-12\">\n                  <div className=\"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4\">\n                    <FaHistory className=\"text-2xl text-gray-400\" />\n                  </div>\n                  <p className=\"text-gray-500 dark:text-gray-400\">No previous versions found</p>\n                </div>\n              ) : (\n                versions.map((version) => (\n                  <div\n                    key={version.version}\n                    className=\"p-5 border border-gray-200 dark:border-gray-700 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors\"\n                  >\n                    <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\n                      <div>\n                        <div className=\"flex items-center gap-3 mb-2\">\n                          <div className=\"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-full text-sm font-medium\">\n                            Version {version.version}\n                          </div>\n                          <div className=\"text-sm text-gray-500 dark:text-gray-400\">\n                            {new Date(version.savedAt).toLocaleString()}\n                          </div>\n                        </div>\n                        <div className=\"text-sm text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-900 p-3 rounded-lg font-mono overflow-auto max-h-24\">\n                          {version.content.substring(0, 300)}\n                          {version.content.length > 300 && '...'}\n                        </div>\n                      </div>\n                      <button\n                        onClick={() => handleRestoreVersion(version.version)}\n                        className=\"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 font-medium transition-all whitespace-nowrap\"\n                      >\n                        Restore This Version\n                      </button>\n                    </div>\n                  </div>\n                ))\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default NoteEditor;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}